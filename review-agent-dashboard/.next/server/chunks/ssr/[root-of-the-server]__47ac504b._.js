module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},50645,a=>{a.n(a.i(27572))},23576,a=>{a.n(a.i(4858))},25210,a=>{a.n(a.i(2747))},43619,a=>{a.n(a.i(79962))},13718,a=>{a.n(a.i(85523))},18198,a=>{a.n(a.i(45518))},62212,a=>{a.n(a.i(66114))},40905,a=>{"use strict";let b=(0,a.i(1269).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);a.s(["Search",()=>b],40905)},84674,a=>{"use strict";let b=(0,a.i(1269).default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);a.s(["FileText",()=>b],84674)},1269,a=>{"use strict";var b=a.i(717);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],1269)},93045,a=>{"use strict";let b=(0,a.i(1269).default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);a.s(["Database",()=>b],93045)},93133,a=>{"use strict";var b=a.i(7997),c=a.i(93045);let d={emerald:"text-emerald-400 bg-emerald-500/10 border-emerald-500/20",amber:"text-amber-400 bg-amber-500/10 border-amber-500/20",cyan:"text-cyan-400 bg-cyan-500/10 border-cyan-500/20",violet:"text-violet-400 bg-violet-500/10 border-violet-500/20",red:"text-red-400 bg-red-500/10 border-red-500/20",blue:"text-blue-400 bg-blue-500/10 border-blue-500/20"};function e({title:a,subtitle:e,icon:f,badge:g,badgeColor:h="emerald",recordCount:i,tableName:j,actions:k}){return(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[f&&(0,b.jsx)(f,{className:"h-5 w-5 text-emerald-400"}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-zinc-100 tracking-tight",children:a})]}),g&&(0,b.jsx)("span",{className:`px-2 py-0.5 text-[10px] font-mono uppercase tracking-widest border rounded ${d[h]}`,children:g})]}),(e||void 0!==i)&&(0,b.jsxs)("p",{className:"text-sm text-zinc-500 font-mono",children:[e,e&&void 0!==i&&" · ",void 0!==i&&`${i.toLocaleString()} records`]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[k,j&&(0,b.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-zinc-900/50 border border-zinc-800/50 rounded-lg",children:[(0,b.jsx)(c.Database,{className:"h-4 w-4 text-zinc-500"}),(0,b.jsx)("span",{className:"text-xs font-mono text-zinc-500",children:j})]})]})]})}a.s(["PageHeader",()=>e])},89606,a=>{"use strict";var b=a.i(7997);let c={emerald:"text-emerald-400 bg-emerald-500/10 border-emerald-500/20",amber:"text-amber-400 bg-amber-500/10 border-amber-500/20",cyan:"text-cyan-400 bg-cyan-500/10 border-cyan-500/20",violet:"text-violet-400 bg-violet-500/10 border-violet-500/20",red:"text-red-400 bg-red-500/10 border-red-500/20",blue:"text-blue-400 bg-blue-500/10 border-blue-500/20"};function d({label:a,value:d,icon:e,color:f="emerald",subtitle:g}){return(0,b.jsxs)("div",{className:"flex items-center gap-3 px-4 py-3 bg-zinc-900/50 border border-zinc-800/50 rounded-lg",children:[(0,b.jsx)("div",{className:`flex items-center justify-center h-10 w-10 rounded-lg border ${c[f]}`,children:(0,b.jsx)(e,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold font-mono text-zinc-100 tabular-nums",children:"number"==typeof d?d.toLocaleString():d}),(0,b.jsx)("p",{className:"text-xs font-medium text-zinc-500 uppercase tracking-wider",children:a}),g&&(0,b.jsx)("p",{className:"text-xs text-zinc-600 mt-0.5",children:g})]})]})}function e({children:a,columns:c=4}){return(0,b.jsx)("div",{className:`grid ${{2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-2 lg:grid-cols-4"}[c]} gap-3`,children:a})}a.s(["StatBlock",()=>d,"StatBlockGrid",()=>e])},56603,a=>{"use strict";let b=(0,a.i(1269).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],56603)},10734,a=>{"use strict";let b=(0,a.i(1269).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],10734)},14637,a=>{a.n(a.i(18125))},72624,a=>{"use strict";a.s(["ArticleCard",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ArticleCard() from the server but ArticleCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/dashboard/ArticleCard.tsx <module evaluation>","ArticleCard")},94150,a=>{"use strict";a.s(["ArticleCard",()=>b]);let b=(0,a.i(11857).registerClientReference)(function(){throw Error("Attempted to call ArticleCard() from the server but ArticleCard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/src/components/dashboard/ArticleCard.tsx","ArticleCard")},29961,a=>{"use strict";a.i(72624);var b=a.i(94150);a.n(b)},23480,a=>{"use strict";var b=a.i(7997),c=a.i(95936),d=a.i(29961),e=a.i(23878),f=a.i(93133),g=a.i(89606),h=a.i(86001),i=a.i(40905),j=a.i(84674),k=a.i(10734),l=a.i(56603);function m(a,b={}){let c={...a,...b},d=new URLSearchParams;Object.entries(c).forEach(([a,b])=>{void 0!==b&&""!==b&&d.set(a,b)});let e=d.toString();return e?`?${e}`:""}async function n(a){let b=parseInt(a.page||"1",10),c="draft"===a.status||"published"===a.status?a.status:void 0,d=a.sort||"generated_desc",f=await (0,e.getArticles)({status:c,search:a.search||void 0,sort:d},b,10),g=f.data.map(a=>({id:a.id,title:a.title,slug:a.slug,status:a.status,generatedAt:a.generated_at,wordCount:a.content_markdown?.split(/\s+/).filter(Boolean).length||0,contractor:{id:a.contractor?.id||"",businessName:a.contractor?.business_name||"Unknown",city:a.contractor?.city||"",state:a.contractor?.state||""}})),{total:h,published:i,draft:j}=await (0,e.getArticleStatusCounts)(a.search);return{articles:g,totalCount:f.total,statsTotal:h,publishedCount:i,draftCount:j,currentPage:b,totalPages:Math.ceil(f.total/10)}}function o({currentParams:a}){return(0,b.jsx)("form",{action:"/articles",method:"GET",children:(0,b.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center",children:[(0,b.jsxs)("select",{name:"status",defaultValue:a.status||"",className:"h-9 w-[140px] px-3 rounded-lg border-zinc-700/50 bg-zinc-800/50 text-sm text-zinc-300 font-mono focus:border-emerald-500/50 focus:outline-none",children:[(0,b.jsx)("option",{value:"",children:"All Statuses"}),(0,b.jsx)("option",{value:"draft",children:"Draft"}),(0,b.jsx)("option",{value:"published",children:"Published"})]}),(0,b.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,b.jsx)(i.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-zinc-500"}),(0,b.jsx)("input",{type:"text",name:"search",defaultValue:a.search||"",placeholder:"Search by title or contractor...",className:"w-full h-9 pl-10 pr-4 rounded-lg border border-zinc-700/50 bg-zinc-800/50 text-sm text-zinc-200 placeholder:text-zinc-500 focus:border-emerald-500/50 focus:outline-none"})]}),(0,b.jsxs)("select",{name:"sort",defaultValue:a.sort||"generated_desc",className:"h-9 w-[160px] px-3 rounded-lg border-zinc-700/50 bg-zinc-800/50 text-sm text-zinc-300 font-mono focus:border-emerald-500/50 focus:outline-none",children:[(0,b.jsx)("option",{value:"generated_desc",children:"Newest First"}),(0,b.jsx)("option",{value:"generated_asc",children:"Oldest First"}),(0,b.jsx)("option",{value:"title_asc",children:"Title A-Z"}),(0,b.jsx)("option",{value:"title_desc",children:"Title Z-A"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{type:"submit",className:"h-9 px-4 text-xs font-mono bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400 border border-emerald-500/20 rounded-lg transition-colors",children:"Apply"}),(0,b.jsx)(c.default,{href:"/articles",className:"h-9 px-4 text-xs font-mono text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800/50 border border-zinc-700/50 rounded-lg transition-colors flex items-center",children:"Clear"})]})]})})}function p({currentPage:a,totalPages:d,totalCount:e,currentParams:f}){let g=function(a,b){let c=[];if(b<=7)for(let a=1;a<=b;a++)c.push(a);else{c.push(1),a>3&&c.push("ellipsis");let d=Math.max(2,a-1),e=Math.min(b-1,a+1);for(let a=d;a<=e;a++)c.push(a);a<b-2&&c.push("ellipsis"),b>1&&c.push(b)}return c}(a,d),h={...f};return delete h.page,(0,b.jsxs)("div",{className:"flex items-center justify-between border-t border-zinc-800/50 px-4 py-3 bg-zinc-900/50",children:[(0,b.jsxs)("p",{className:"text-xs font-mono text-zinc-500",children:["Page ",(0,b.jsxs)("span",{className:"text-zinc-300",children:[a,"/",d]})," · ",e.toLocaleString()," total"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a>1&&(0,b.jsx)(c.default,{href:`/articles${m(h,{page:String(a-1)})}`,className:"px-3 py-1.5 text-xs font-mono bg-zinc-800/50 hover:bg-zinc-700/50 text-zinc-300 border border-zinc-700/50 rounded transition-colors",children:"← Prev"}),(0,b.jsx)("div",{className:"hidden sm:flex items-center gap-1",children:g.map((d,e)=>{if("ellipsis"===d)return(0,b.jsx)("span",{className:"px-2 text-zinc-600 font-mono",children:"..."},`ellipsis-${e}`);let f=d===a;return(0,b.jsx)(c.default,{href:`/articles${m(h,{page:String(d)})}`,className:`h-8 w-8 flex items-center justify-center text-xs font-mono rounded border transition-colors ${f?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-zinc-800/50 text-zinc-400 border-zinc-700/50 hover:bg-zinc-700/50 hover:text-zinc-200"}`,children:d},d)})}),a<d&&(0,b.jsx)(c.default,{href:`/articles${m(h,{page:String(a+1)})}`,className:"px-3 py-1.5 text-xs font-mono bg-zinc-800/50 hover:bg-zinc-700/50 text-zinc-300 border border-zinc-700/50 rounded transition-colors",children:"Next →"})]})]})}async function q({searchParams:a}){let c=await a,e={status:"string"==typeof c.status?c.status:void 0,search:"string"==typeof c.search?c.search:void 0,sort:"string"==typeof c.sort?c.sort:void 0,page:"string"==typeof c.page?c.page:void 0},{articles:i,totalCount:m,statsTotal:q,publishedCount:r,draftCount:s,currentPage:t,totalPages:u}=await n(e);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(f.PageHeader,{title:"Articles",subtitle:"Manage AI-generated contractor review articles",icon:j.FileText,badge:"Content",badgeColor:"emerald",recordCount:m,tableName:"review_articles"}),(0,b.jsxs)(g.StatBlockGrid,{columns:3,children:[(0,b.jsx)(g.StatBlock,{label:"Total Articles",value:q,icon:j.FileText,color:"emerald"}),(0,b.jsx)(g.StatBlock,{label:"Published",value:r,icon:k.CheckCircle2,color:"cyan"}),(0,b.jsx)(g.StatBlock,{label:"Drafts",value:s,icon:l.Clock,color:"amber"})]}),(0,b.jsxs)("div",{className:"p-4 bg-zinc-900/30 border border-zinc-800/50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),(0,b.jsx)("span",{className:"text-xs font-mono uppercase tracking-wider text-zinc-500",children:"Filters"})]}),(0,b.jsx)(o,{currentParams:e})]}),(0,b.jsxs)("div",{className:"bg-zinc-900/30 border border-zinc-800/50 rounded-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-zinc-800/50 bg-zinc-900/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-cyan-400"}),(0,b.jsx)("span",{className:"text-xs font-mono uppercase tracking-wider text-zinc-500",children:"Article Records"})]}),(0,b.jsxs)("span",{className:"text-xs font-mono text-zinc-600",children:["Showing ",i.length," of ",m.toLocaleString()]})]}),(0,b.jsx)("div",{className:"divide-y divide-zinc-800/30",children:i.length>0?i.map(a=>(0,b.jsx)(d.ArticleCard,{article:a,onPublishToggle:h.updateArticleStatus},a.id)):(0,b.jsxs)("div",{className:"p-12 text-center",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center h-16 w-16 rounded-full bg-zinc-800/50 border border-zinc-700/50 mb-4",children:(0,b.jsx)(j.FileText,{className:"h-8 w-8 text-zinc-600"})}),(0,b.jsx)("h3",{className:"text-lg font-semibold text-zinc-300 mb-1",children:"No articles found"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500 max-w-md mx-auto",children:e.search||e.status?"No articles match your current filters. Try adjusting your search criteria.":"Articles will appear here once they are generated from contractor reviews."}),(0,b.jsxs)("p",{className:"mt-4 text-xs font-mono text-zinc-600",children:["Table: ",(0,b.jsx)("code",{className:"px-1.5 py-0.5 bg-zinc-800/50 rounded",children:"review_articles"})]})]})}),u>1&&(0,b.jsx)(p,{currentPage:t,totalPages:u,totalCount:m,currentParams:e})]})]})}a.s(["default",()=>q])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__47ac504b._.js.map