module.exports=[60168,a=>{"use strict";var b=a.i(7997),c=a.i(95936),d=a.i(85791);function e({stages:a}){let c=(a,b)=>0===b?0:Math.round(a/b*100),e=c(a.reduce((a,b)=>a+b.count,0),a.reduce((a,b)=>a+b.total,0));return(0,b.jsxs)("div",{className:"bg-zinc-900/30 border border-zinc-800/50 rounded-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-zinc-800/50 bg-zinc-900/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-violet-400 animate-pulse"}),(0,b.jsx)("span",{className:"text-xs font-mono uppercase tracking-wider text-zinc-500",children:"Pipeline Health"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.GitBranch,{className:"h-4 w-4 text-zinc-500"}),(0,b.jsxs)("span",{className:"text-xs font-mono text-zinc-400",children:[e,"% complete"]})]})]}),(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:a.map((d,e)=>{let f=c(d.count,d.total),g=(a=>{switch(a){case"complete":return{border:"border-emerald-500/50",bg:"bg-emerald-500/10",text:"text-emerald-400",bar:"bg-emerald-500"};case"in-progress":return{border:"border-amber-500/50",bg:"bg-amber-500/10",text:"text-amber-400",bar:"bg-amber-500"};case"pending":return{border:"border-zinc-700/50",bg:"bg-zinc-800/50",text:"text-zinc-500",bar:"bg-zinc-700"}}})(d.status);return(0,b.jsxs)("div",{className:"flex items-center flex-1",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:`flex h-16 w-16 items-center justify-center rounded-full border-2 ${g.border} ${g.bg}`,children:(0,b.jsxs)("span",{className:`text-lg font-bold font-mono tabular-nums ${g.text}`,children:[f,"%"]})}),(0,b.jsx)("p",{className:"mt-3 text-sm font-medium text-zinc-200",children:d.name}),(0,b.jsxs)("p",{className:"text-xs font-mono text-zinc-600 tabular-nums",children:[d.count.toLocaleString()," / ",d.total.toLocaleString()]})]}),e<a.length-1&&(0,b.jsx)("div",{className:"flex-1 px-4",children:(0,b.jsx)("div",{className:"relative h-1 w-full bg-zinc-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:`absolute left-0 top-0 h-full ${g.bar} rounded-full transition-all duration-500`,style:{width:`${f}%`}})})})]},d.name)})}),(0,b.jsxs)("div",{className:"mt-8 pt-6 border-t border-zinc-800/50",children:[(0,b.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,b.jsx)("span",{className:"text-xs font-mono uppercase tracking-wider text-zinc-500",children:"Overall Progress"}),(0,b.jsxs)("span",{className:"text-xs font-mono text-zinc-300 tabular-nums",children:[e,"%"]})]}),(0,b.jsx)("div",{className:"h-2 w-full bg-zinc-800 rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-gradient-to-r from-emerald-500 via-cyan-500 to-violet-500 rounded-full transition-all duration-500",style:{width:`${e}%`}})})]})]})]})}var f=a.i(40020),g=a.i(88588),h=a.i(1508),i=a.i(84674),j=a.i(72030),k=a.i(74091);let l={contractor:{Icon:f.User,bgColor:"bg-cyan-500/10",textColor:"text-cyan-400",borderColor:"border-cyan-500/20"},review:{Icon:g.Star,bgColor:"bg-amber-500/10",textColor:"text-amber-400",borderColor:"border-amber-500/20"},analysis:{Icon:h.Lightbulb,bgColor:"bg-violet-500/10",textColor:"text-violet-400",borderColor:"border-violet-500/20"},article:{Icon:i.FileText,bgColor:"bg-emerald-500/10",textColor:"text-emerald-400",borderColor:"border-emerald-500/20"}};function m({activities:a}){return(0,b.jsxs)("div",{className:"bg-zinc-900/30 border border-zinc-800/50 rounded-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b border-zinc-800/50 bg-zinc-900/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-amber-400 animate-pulse"}),(0,b.jsx)("span",{className:"text-xs font-mono uppercase tracking-wider text-zinc-500",children:"Recent Activity"})]}),(0,b.jsx)(c.default,{href:"/logs",className:"text-xs font-mono text-emerald-400 hover:text-emerald-300 transition-colors uppercase tracking-wider",children:"View All"})]}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"space-y-3 relative",children:[(0,b.jsx)("div",{className:"absolute left-4 top-2 bottom-2 w-px bg-zinc-800/50 hidden sm:block"}),a.map(a=>{let c=l[a.type],d=c.Icon;return(0,b.jsxs)("div",{className:"group flex items-start gap-3 relative",children:[(0,b.jsx)("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-lg border ${c.borderColor} ${c.bgColor} ${c.textColor} z-10 transition-transform group-hover:scale-105`,children:(0,b.jsx)(d,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0 bg-zinc-800/30 rounded-lg p-3 border border-zinc-700/30 group-hover:border-zinc-700/50 group-hover:bg-zinc-800/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-zinc-200 truncate",children:a.action}),(0,b.jsx)("span",{className:"text-[10px] whitespace-nowrap text-zinc-500 font-mono bg-zinc-900/50 px-2 py-0.5 rounded border border-zinc-700/30 tabular-nums",children:a.timestamp})]}),(0,b.jsx)("p",{className:"text-sm text-zinc-500 mt-1 truncate font-mono",children:a.target})]}),(0,b.jsx)("div",{className:"self-center hidden sm:block",children:(0,b.jsx)(j.ChevronRight,{className:"h-4 w-4 text-zinc-700 group-hover:text-emerald-400 transition-all group-hover:translate-x-1"})})]},a.id)})]}),0===a.length&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)("div",{className:"h-14 w-14 rounded-lg bg-zinc-800/50 border border-zinc-700/50 flex items-center justify-center mb-4",children:(0,b.jsx)(k.Activity,{className:"h-7 w-7 text-zinc-600"})}),(0,b.jsx)("h3",{className:"text-sm font-medium text-zinc-300 mb-1",children:"No activity yet"}),(0,b.jsx)("p",{className:"text-xs text-zinc-500 font-mono",children:"Pipeline activity will appear here once you run the discover script."})]})]})]})}var n=a.i(93133),o=a.i(89606),p=a.i(23878),q=a.i(83627),r=a.i(45417),s=a.i(1269);let t=(0,s.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var u=a.i(95550);let v=(0,s.default)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var w=a.i(93045);async function x(){let[a,b]=await Promise.all([(0,p.getPipelineStats)(),(0,p.getRecentActivity)(5)]),c=[];b.recentContractors.forEach(a=>{c.push({id:`contractor-${a.id}`,type:"contractor",action:"Business Found",target:`${a.business_name}`,timestamp:a.discovered_at})}),b.recentAnalyses.forEach(a=>{c.push({id:`analysis-${a.id}`,type:"analysis",action:"Analysis Done",target:a.contractor?.business_name||"Business Record",timestamp:a.analyzed_at})}),b.recentArticles.forEach(a=>{c.push({id:`article-${a.id}`,type:"article",action:"Article Ready",target:a.contractor?.business_name||"Business Record",timestamp:a.generated_at})});let d=c.sort((a,b)=>new Date(b.timestamp).getTime()-new Date(a.timestamp).getTime()).slice(0,5).map(a=>{let b,c,d,e;return{...a,timestamp:(b=new Date(a.timestamp),e=Math.floor((d=Math.floor((c=Math.floor((new Date().getTime()-b.getTime())/6e4))/60))/24),c<1?"Just now":c<60?`${c}m ago`:d<24?`${d}h ago`:`${e}d ago`)}}),e=[{name:"Discover",count:a.contractors,total:a.contractors,status:a.contractors>0?"complete":"pending"},{name:"Collect",count:a.reviews,total:a.reviews,status:a.reviews>0?"complete":"pending"},{name:"Analyze",count:a.analyses,total:a.contractors,status:a.analyses>=a.contractors?"complete":a.analyses>0?"in-progress":"pending"},{name:"Generate",count:a.articles,total:a.contractors,status:a.articles>=a.contractors?"complete":a.articles>0?"in-progress":"pending"}];return{contractors:{total:a.contractors,trend:"up"},reviews:{total:a.reviews,trend:"up"},analyses:{completed:a.analyses,total:a.contractors,percentage:Math.round(a.analysisRate),trend:a.analysisRate>50?"up":"neutral"},articles:{generated:a.articles,total:a.contractors,percentage:Math.round(a.articleRate),trend:a.articleRate>50?"up":"neutral"},pipeline:e,recentActivity:d}}async function y(){let a=await x(),d=a.pipeline.reduce((a,b)=>a+b.count,0),f=a.pipeline.reduce((a,b)=>a+b.total,0),l=f>0?Math.round(d/f*100):0;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(n.PageHeader,{title:"Pipeline Intelligence",subtitle:"Real-time monitoring of AI review discovery, analysis, and content generation",icon:k.Activity,badge:"Live",badgeColor:"emerald",actions:(0,b.jsx)(c.default,{href:"/exports",className:"px-3 py-1.5 text-xs font-mono bg-emerald-500/10 hover:bg-emerald-500/20 text-emerald-400 border border-emerald-500/20 rounded-lg transition-colors uppercase tracking-wider",children:"Export JSON"})}),(0,b.jsxs)(o.StatBlockGrid,{columns:4,children:[(0,b.jsx)(o.StatBlock,{label:"Businesses",value:a.contractors.total,icon:q.Users,color:"cyan",subtitle:"Discovered contractors"}),(0,b.jsx)(o.StatBlock,{label:"Reviews",value:a.reviews.total,icon:g.Star,color:"amber",subtitle:"Collected records"}),(0,b.jsx)(o.StatBlock,{label:"Analyses",value:`${a.analyses.percentage}%`,icon:h.Lightbulb,color:"violet",subtitle:`${a.analyses.completed} processed`}),(0,b.jsx)(o.StatBlock,{label:"Articles",value:`${a.articles.percentage}%`,icon:i.FileText,color:"emerald",subtitle:`${a.articles.generated} generated`})]}),(0,b.jsx)(e,{stages:a.pipeline}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[(0,b.jsx)("div",{className:"lg:col-span-3",children:(0,b.jsx)(m,{activities:a.recentActivity})}),(0,b.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,b.jsxs)("div",{className:"bg-zinc-900/30 border border-zinc-800/50 rounded-lg p-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-cyan-400 animate-pulse"}),(0,b.jsx)("span",{className:"text-xs font-mono uppercase tracking-wider text-zinc-500",children:"Action Center"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(c.default,{href:"/pipeline",className:"group flex items-center justify-between rounded-lg bg-zinc-800/30 px-4 py-3 border border-zinc-700/30 hover:border-emerald-500/30 hover:bg-zinc-800/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-zinc-700/50 text-zinc-400 group-hover:bg-emerald-500/10 group-hover:text-emerald-400 transition-all",children:(0,b.jsx)(r.RefreshCw,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-zinc-200",children:"Synchronize Pipeline"}),(0,b.jsx)("p",{className:"text-[10px] text-zinc-500 font-mono uppercase tracking-wider",children:"Triggers new AI crawling cycle"})]})]}),(0,b.jsx)(j.ChevronRight,{className:"h-4 w-4 text-zinc-600 group-hover:text-emerald-400 transition-all group-hover:translate-x-1"})]}),(0,b.jsxs)(c.default,{href:"/contractors",className:"group flex items-center justify-between rounded-lg bg-zinc-800/30 px-4 py-3 border border-zinc-700/30 hover:border-cyan-500/30 hover:bg-zinc-800/50 transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-lg bg-zinc-700/50 text-zinc-400 group-hover:bg-cyan-500/10 group-hover:text-cyan-400 transition-all",children:(0,b.jsx)(t,{className:"h-4 w-4"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-zinc-200",children:"Import Contractor"}),(0,b.jsx)("p",{className:"text-[10px] text-zinc-500 font-mono uppercase tracking-wider",children:"Manual GMB/Yelp profile entry"})]})]}),(0,b.jsx)(j.ChevronRight,{className:"h-4 w-4 text-zinc-600 group-hover:text-cyan-400 transition-all group-hover:translate-x-1"})]}),(0,b.jsxs)("div",{className:"pt-3 mt-3 border-t border-zinc-800/50 grid grid-cols-2 gap-3",children:[(0,b.jsxs)(c.default,{href:"/exports",className:"flex items-center justify-center gap-2 py-2.5 rounded-lg bg-zinc-800/30 text-xs font-mono text-zinc-400 hover:bg-zinc-700/50 hover:text-zinc-200 transition-all border border-zinc-700/30",children:[(0,b.jsx)(u.Download,{className:"h-3.5 w-3.5"}),"Archive"]}),(0,b.jsxs)("button",{className:"flex items-center justify-center gap-2 py-2.5 rounded-lg bg-zinc-800/30 text-xs font-mono text-zinc-400 hover:bg-zinc-700/50 hover:text-zinc-200 transition-all border border-zinc-700/30",children:[(0,b.jsx)(v,{className:"h-3.5 w-3.5"}),"Configure"]})]})]})]}),(0,b.jsxs)("div",{className:"bg-zinc-900/30 border border-zinc-800/50 rounded-lg p-5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex items-center justify-center h-12 w-12 rounded-lg bg-emerald-500/10 border border-emerald-500/20",children:(0,b.jsx)(k.Activity,{className:"h-6 w-6 text-emerald-400"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"text-lg font-bold font-mono text-zinc-100",children:[l,"%"]}),(0,b.jsx)("span",{className:"px-1.5 py-0.5 text-[10px] font-mono uppercase tracking-widest text-emerald-400 bg-emerald-500/10 border border-emerald-500/20 rounded",children:"Healthy"})]}),(0,b.jsx)("p",{className:"text-xs text-zinc-500",children:"Pipeline Health"})]})]}),(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-zinc-500 font-mono",children:[(0,b.jsx)(w.Database,{className:"h-3.5 w-3.5"}),(0,b.jsx)("span",{children:"All crawler nodes operating normally"})]})})]})]})]})]})}a.s(["default",()=>y],60168)}];

//# sourceMappingURL=src_app_page_tsx_ba0756fb._.js.map