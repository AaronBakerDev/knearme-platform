module.exports=[24987,a=>{"use strict";let b=(0,a.i(70106).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],24987)},37738,7827,a=>{"use strict";var b=a.i(72131),c=a.i(50104),d=a.i(70121),e=a.i(87924);function f(a){var c;let f,g=(c=a,(f=b.forwardRef((a,c)=>{let{children:e,...f}=a;if(b.isValidElement(e)){var g;let a,h,i=(g=e,(h=(a=Object.getOwnPropertyDescriptor(g.props,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.ref:(h=(a=Object.getOwnPropertyDescriptor(g,"ref")?.get)&&"isReactWarning"in a&&a.isReactWarning)?g.props.ref:g.props.ref||g.ref),j=function(a,b){let c={...b};for(let d in b){let e=a[d],f=b[d];/^on[A-Z]/.test(d)?e&&f?c[d]=(...a)=>{let b=f(...a);return e(...a),b}:e&&(c[d]=e):"style"===d?c[d]={...e,...f}:"className"===d&&(c[d]=[e,f].filter(Boolean).join(" "))}return{...a,...c}}(f,e.props);return e.type!==b.Fragment&&(j.ref=c?(0,d.composeRefs)(c,i):i),b.cloneElement(e,j)}return b.Children.count(e)>1?b.Children.only(null):null})).displayName=`${c}.SlotClone`,f),i=b.forwardRef((a,c)=>{let{children:d,...f}=a,i=b.Children.toArray(d),j=i.find(h);if(j){let a=j.props.children,d=i.map(c=>c!==j?c:b.Children.count(a)>1?b.Children.only(null):b.isValidElement(a)?a.props.children:null);return(0,e.jsx)(g,{...f,ref:c,children:b.isValidElement(a)?b.cloneElement(a,void 0,d):null})}return(0,e.jsx)(g,{...f,ref:c,children:d})});return i.displayName=`${a}.Slot`,i}var g=Symbol("radix.slottable");function h(a){return b.isValidElement(a)&&"function"==typeof a.type&&"__radixId"in a.type&&a.type.__radixId===g}function i(a){let g=a+"CollectionProvider",[h,i]=(0,c.createContextScope)(g),[j,k]=h(g,{collectionRef:{current:null},itemMap:new Map}),l=a=>{let{scope:c,children:d}=a,f=b.default.useRef(null),g=b.default.useRef(new Map).current;return(0,e.jsx)(j,{scope:c,itemMap:g,collectionRef:f,children:d})};l.displayName=g;let m=a+"CollectionSlot",n=f(m),o=b.default.forwardRef((a,b)=>{let{scope:c,children:f}=a,g=k(m,c),h=(0,d.useComposedRefs)(b,g.collectionRef);return(0,e.jsx)(n,{ref:h,children:f})});o.displayName=m;let p=a+"CollectionItemSlot",q="data-radix-collection-item",r=f(p),s=b.default.forwardRef((a,c)=>{let{scope:f,children:g,...h}=a,i=b.default.useRef(null),j=(0,d.useComposedRefs)(c,i),l=k(p,f);return b.default.useEffect(()=>(l.itemMap.set(i,{ref:i,...h}),()=>void l.itemMap.delete(i))),(0,e.jsx)(r,{...{[q]:""},ref:j,children:g})});return s.displayName=p,[{Provider:l,Slot:o,ItemSlot:s},function(c){let d=k(a+"CollectionConsumer",c);return b.default.useCallback(()=>{let a=d.collectionRef.current;if(!a)return[];let b=Array.from(a.querySelectorAll(`[${q}]`));return Array.from(d.itemMap.values()).sort((a,c)=>b.indexOf(a.ref.current)-b.indexOf(c.ref.current))},[d.collectionRef,d.itemMap])},i]}var j=new WeakMap;function k(a,b){var c,d;let e,f,g;if("at"in Array.prototype)return Array.prototype.at.call(a,b);let h=(c=a,d=b,e=c.length,(g=(f=l(d))>=0?f:e+f)<0||g>=e?-1:g);return -1===h?void 0:a[h]}function l(a){return a!=a||0===a?0:Math.trunc(a)}(class a extends Map{#a;constructor(a){super(a),this.#a=[...super.keys()],j.set(this,!0)}set(a,b){return j.get(this)&&(this.has(a)?this.#a[this.#a.indexOf(a)]=a:this.#a.push(a)),super.set(a,b),this}insert(a,b,c){let d,e=this.has(b),f=this.#a.length,g=l(a),h=g>=0?g:f+g,i=h<0||h>=f?-1:h;if(i===this.size||e&&i===this.size-1||-1===i)return this.set(b,c),this;let j=this.size+ +!e;g<0&&h++;let k=[...this.#a],m=!1;for(let a=h;a<j;a++)if(h===a){let f=k[a];k[a]===b&&(f=k[a+1]),e&&this.delete(b),d=this.get(f),this.set(b,c)}else{m||k[a-1]!==b||(m=!0);let c=k[m?a:a-1],e=d;d=this.get(c),this.delete(c),this.set(c,e)}return this}with(b,c,d){let e=new a(this);return e.insert(b,c,d),e}before(a){let b=this.#a.indexOf(a)-1;if(!(b<0))return this.entryAt(b)}setBefore(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d,b,c)}after(a){let b=this.#a.indexOf(a);if(-1!==(b=-1===b||b===this.size-1?-1:b+1))return this.entryAt(b)}setAfter(a,b,c){let d=this.#a.indexOf(a);return -1===d?this:this.insert(d+1,b,c)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#a=[],super.clear()}delete(a){let b=super.delete(a);return b&&this.#a.splice(this.#a.indexOf(a),1),b}deleteAt(a){let b=this.keyAt(a);return void 0!==b&&this.delete(b)}at(a){let b=k(this.#a,a);if(void 0!==b)return this.get(b)}entryAt(a){let b=k(this.#a,a);if(void 0!==b)return[b,this.get(b)]}indexOf(a){return this.#a.indexOf(a)}keyAt(a){return k(this.#a,a)}from(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.at(d)}keyFrom(a,b){let c=this.indexOf(a);if(-1===c)return;let d=c+b;return d<0&&(d=0),d>=this.size&&(d=this.size-1),this.keyAt(d)}find(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return d;c++}}findIndex(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return c;c++}return -1}filter(b,c){let d=[],e=0;for(let a of this)Reflect.apply(b,c,[a,e,this])&&d.push(a),e++;return new a(d)}map(b,c){let d=[],e=0;for(let a of this)d.push([a[0],Reflect.apply(b,c,[a,e,this])]),e++;return new a(d)}reduce(...a){let[b,c]=a,d=0,e=c??this.at(0);for(let c of this)e=0===d&&1===a.length?c:Reflect.apply(b,this,[e,c,d,this]),d++;return e}reduceRight(...a){let[b,c]=a,d=c??this.at(-1);for(let c=this.size-1;c>=0;c--){let e=this.at(c);d=c===this.size-1&&1===a.length?e:Reflect.apply(b,this,[d,e,c,this])}return d}toSorted(b){return new a([...this.entries()].sort(b))}toReversed(){let b=new a;for(let a=this.size-1;a>=0;a--){let c=this.keyAt(a),d=this.get(c);b.set(c,d)}return b}toSpliced(...b){let c=[...this.entries()];return c.splice(...b),new a(c)}slice(b,c){let d=new a,e=this.size-1;if(void 0===b)return d;b<0&&(b+=this.size),void 0!==c&&c>0&&(e=c-1);for(let a=b;a<=e;a++){let b=this.keyAt(a),c=this.get(b);d.set(b,c)}return d}every(a,b){let c=0;for(let d of this){if(!Reflect.apply(a,b,[d,c,this]))return!1;c++}return!0}some(a,b){let c=0;for(let d of this){if(Reflect.apply(a,b,[d,c,this]))return!0;c++}return!1}}),a.s(["createCollection",()=>i],37738);var m=b.createContext(void 0);function n(a){let c=b.useContext(m);return a||c||"ltr"}a.s(["useDirection",()=>n],7827)},33508,a=>{"use strict";var b=a.i(62213);a.s(["X",()=>b.default])},63588,a=>{"use strict";let b=(0,a.i(70106).default)("message-square",[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]]);a.s(["MessageSquare",()=>b],63588)},69439,a=>{"use strict";let b=(0,a.i(70106).default)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);a.s(["Lightbulb",()=>b],69439)},19458,a=>{"use strict";var b=a.i(87924),c=a.i(50944),d=a.i(72131),e=a.i(87532),f=a.i(21374),g=a.i(69439),h=a.i(24987),i=a.i(63588),j=a.i(4720),k=a.i(33508),l=a.i(66718),m=a.i(80701);function n(a,b){return a===b}function o({cities:a,states:o}){var q,r,s,t;let u=(0,c.useRouter)(),v=(0,c.useSearchParams)(),w=(0,c.usePathname)(),[x,y]=(0,d.useTransition)(),[z,A]=(0,d.useState)(v.get("search")||""),[B]=(q=(0,d.useRef)(z),r=(0,d.useState)({})[1],s=function(a,b,c,e){var f=this,g=(0,d.useRef)(null),h=(0,d.useRef)(0),i=(0,d.useRef)(0),j=(0,d.useRef)(null),k=(0,d.useRef)([]),l=(0,d.useRef)(),m=(0,d.useRef)(),n=(0,d.useRef)(a),o=(0,d.useRef)(!0);n.current=a;var p=!b&&0!==b&&!1;if("function"!=typeof a)throw TypeError("Expected a function");b=+b||0;var q=!!(c=c||{}).leading,r=!("trailing"in c)||!!c.trailing,s="maxWait"in c,t="debounceOnServer"in c&&!!c.debounceOnServer,u=s?Math.max(+c.maxWait||0,b):null;return(0,d.useEffect)(function(){return o.current=!0,function(){o.current=!1}},[]),(0,d.useMemo)(function(){var a=function(a){var b=k.current,c=l.current;return k.current=l.current=null,h.current=a,i.current=i.current||a,m.current=n.current.apply(c,b)},c=function(a,b){p&&cancelAnimationFrame(j.current),j.current=setTimeout(a,b)},d=function(a){if(!o.current)return!1;var c=a-g.current;return!g.current||c>=b||c<0||s&&a-h.current>=u},v=function(b){return j.current=null,r&&k.current?a(b):(k.current=l.current=null,m.current)},w=function a(){var e=Date.now();if(q&&i.current===h.current&&x(),d(e))return v(e);if(o.current){var f=b-(e-g.current);c(a,s?Math.min(f,u-(e-h.current)):f)}},x=function(){e&&e({})},y=function(){if(t){var e=Date.now(),i=d(e);if(k.current=[].slice.call(arguments),l.current=f,g.current=e,i){if(!j.current&&o.current)return h.current=g.current,c(w,b),q?a(g.current):m.current;if(s)return c(w,b),a(g.current)}return j.current||c(w,b),m.current}};return y.cancel=function(){var a=j.current;a&&clearTimeout(j.current),h.current=0,k.current=g.current=l.current=j.current=null,a&&e&&e({})},y.isPending=function(){return!!j.current},y.flush=function(){return j.current?v(Date.now()):m.current},y},[q,s,b,u,r,p,!1,t,e])}((0,d.useCallback)(function(a){q.current=a,r({})},[r]),300,void 0,r),n((t=(0,d.useRef)(z)).current,z)||(s(z),t.current=z),[q.current,s]),[C,D]=(0,d.useState)("");(0,d.useEffect)(()=>{A(v.get("search")||"")},[v]);let E=(0,d.useMemo)(()=>{if(!C.trim())return a.slice(0,50);let b=C.toLowerCase();return a.filter(a=>a.toLowerCase().includes(b)).slice(0,50)},[a,C]),F=(0,d.useMemo)(()=>{if(!C.trim())return a.length>50;let b=C.toLowerCase();return a.filter(a=>a.toLowerCase().includes(b)).length>50},[a,C]),G=(0,d.useCallback)((a,b)=>{let c=new URLSearchParams(v.toString());c.delete("page"),b?c.set(a,b):c.delete(a),y(()=>{u.replace(`${w}?${c.toString()}`,{scroll:!1})})},[v,w,u]);(0,d.useEffect)(()=>{B!==(v.get("search")||"")&&G("search",B||null)},[B,G,v]);let H=v.get("minRating"),I=a=>{let b="true"===v.get(a);G(a,b?null:"true")},J=z||H||v.get("state")||v.get("city")||v.get("hasReviews")||v.get("hasAnalysis")||v.get("hasArticle");return(0,b.jsxs)("div",{className:"w-full relative",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-3 lg:flex-row lg:items-center",children:[(0,b.jsxs)("div",{className:"relative flex-1 min-w-[200px]",children:[(0,b.jsx)(e.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-zinc-500"}),(0,b.jsx)(l.Input,{value:z,onChange:a=>A(a.target.value),placeholder:"Search contractors...",className:"border-zinc-700/50 bg-zinc-800/50 pl-10 pr-4 text-sm text-zinc-200 placeholder:text-zinc-500 focus-visible:border-cyan-500/50 focus-visible:bg-zinc-800 h-9 rounded-lg"})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2 lg:flex-nowrap",children:[(0,b.jsxs)(m.Select,{value:v.get("state")||"all",onValueChange:a=>G("state","all"===a?null:a),children:[(0,b.jsx)(m.SelectTrigger,{className:"h-9 w-[130px] px-3 rounded-lg border-zinc-700/50 bg-zinc-800/50 text-sm text-zinc-300 hover:bg-zinc-700/50 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 truncate",children:[(0,b.jsx)(h.MapPin,{className:"h-3.5 w-3.5 text-zinc-500 shrink-0"}),(0,b.jsx)("span",{className:"truncate font-mono text-xs",children:v.get("state")||"All States"})]})}),(0,b.jsxs)(m.SelectContent,{className:"bg-zinc-900 border-zinc-700/50",children:[(0,b.jsx)(m.SelectItem,{value:"all",children:"All States"}),o.map(a=>(0,b.jsx)(m.SelectItem,{value:a,children:a},a))]})]}),(0,b.jsxs)(m.Select,{value:v.get("city")||"all",onValueChange:a=>{G("city","all"===a?null:a),D("")},onOpenChange:a=>{a||D("")},children:[(0,b.jsx)(m.SelectTrigger,{className:"h-9 w-[140px] px-3 rounded-lg border-zinc-700/50 bg-zinc-800/50 text-sm text-zinc-300 hover:bg-zinc-700/50 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 truncate",children:[(0,b.jsx)(h.MapPin,{className:"h-3.5 w-3.5 text-zinc-500 shrink-0"}),(0,b.jsx)("span",{className:"truncate font-mono text-xs",children:v.get("city")||"All Cities"})]})}),(0,b.jsxs)(m.SelectContent,{className:"bg-zinc-900 border-zinc-700/50 max-h-[300px]",children:[a.length>10&&(0,b.jsx)("div",{className:"px-2 pb-2 sticky top-0 bg-zinc-900 z-10",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(e.Search,{className:"absolute left-2 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-zinc-500"}),(0,b.jsx)("input",{type:"text",value:C,onChange:a=>D(a.target.value),placeholder:"Search cities...",className:"w-full h-8 pl-7 pr-2 rounded border border-zinc-700/50 bg-zinc-800/50 text-xs text-zinc-200 placeholder:text-zinc-500 focus:outline-none focus:border-cyan-500/50",onClick:a=>a.stopPropagation(),onKeyDown:a=>a.stopPropagation()})]})}),(0,b.jsx)(m.SelectItem,{value:"all",children:"All Cities"}),E.map(a=>(0,b.jsx)(m.SelectItem,{value:a,className:"font-mono text-xs",children:a},a)),F&&(0,b.jsxs)("div",{className:"px-2 py-1.5 text-[10px] text-zinc-500 font-mono border-t border-zinc-800/50 mt-1",children:["+",a.length-50," more",C?" (refine search)":"..."]}),0===E.length&&C&&(0,b.jsxs)("div",{className:"px-2 py-3 text-xs text-zinc-500 text-center",children:['No cities match "',C,'"']})]})]}),(0,b.jsxs)(m.Select,{value:H||"all",onValueChange:a=>G("minRating","all"===a?null:a),children:[(0,b.jsx)(m.SelectTrigger,{className:"h-9 w-[120px] px-3 rounded-lg border-zinc-700/50 bg-zinc-800/50 text-sm text-zinc-300 hover:bg-zinc-700/50 transition-colors",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Star,{className:"h-3.5 w-3.5 text-amber-500 fill-amber-500 shrink-0"}),(0,b.jsx)("span",{className:"font-mono text-xs",children:H?`${H}+`:"Rating"})]})}),(0,b.jsxs)(m.SelectContent,{className:"bg-zinc-900 border-zinc-700/50",children:[(0,b.jsx)(m.SelectItem,{value:"all",children:"Any Rating"}),(0,b.jsx)(m.SelectItem,{value:"4.5",children:"4.5+ Stars"}),(0,b.jsx)(m.SelectItem,{value:"4.0",children:"4.0+ Stars"}),(0,b.jsx)(m.SelectItem,{value:"3.5",children:"3.5+ Stars"}),(0,b.jsx)(m.SelectItem,{value:"3.0",children:"3.0+ Stars"})]})]}),(0,b.jsx)("div",{className:"h-5 w-px bg-zinc-700/50 hidden lg:block"}),(0,b.jsxs)("div",{className:"flex h-9 items-center gap-1 rounded-lg bg-zinc-800/50 p-1 border border-zinc-700/50",children:[(0,b.jsx)(p,{active:"true"===v.get("hasReviews"),onClick:()=>I("hasReviews"),icon:i.MessageSquare,label:"Data"}),(0,b.jsx)(p,{active:"true"===v.get("hasAnalysis"),onClick:()=>I("hasAnalysis"),icon:g.Lightbulb,label:"AI"}),(0,b.jsx)(p,{active:"true"===v.get("hasArticle"),onClick:()=>I("hasArticle"),icon:j.FileText,label:"Pub"})]}),J&&(0,b.jsxs)("button",{onClick:()=>u.replace(w),className:"h-9 px-3 text-xs font-mono text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800/50 rounded-lg border border-zinc-700/50 transition-colors flex items-center gap-1.5",children:[(0,b.jsx)(k.X,{className:"h-3 w-3"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Clear"})]})]})]}),x&&(0,b.jsx)("div",{className:"absolute top-0 right-0 p-2",children:(0,b.jsx)("div",{className:"h-1.5 w-1.5 animate-ping rounded-full bg-cyan-400"})})]})}function p({active:a,onClick:c,icon:d,label:e}){return(0,b.jsxs)("button",{onClick:c,className:`flex h-full items-center gap-1.5 rounded-md px-2.5 text-xs font-mono transition-all ${a?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"text-zinc-500 hover:bg-zinc-700/50 hover:text-zinc-300 border border-transparent"}`,title:`Filter by ${e}`,children:[(0,b.jsx)(d,{className:"h-3.5 w-3.5"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:e})]})}a.s(["ContractorFilters",()=>o],19458)}];

//# sourceMappingURL=_242c7685._.js.map