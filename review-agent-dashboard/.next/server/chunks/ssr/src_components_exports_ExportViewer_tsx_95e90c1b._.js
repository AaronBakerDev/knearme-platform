module.exports=[82101,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(99570),e=a.i(75083),f=a.i(68114);function g({className:a,...c}){return(0,b.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,b.jsx)("table",{"data-slot":"table",className:(0,f.cn)("w-full caption-bottom text-sm",a),...c})})}function h({className:a,...c}){return(0,b.jsx)("thead",{"data-slot":"table-header",className:(0,f.cn)("[&_tr]:border-b",a),...c})}function i({className:a,...c}){return(0,b.jsx)("tbody",{"data-slot":"table-body",className:(0,f.cn)("[&_tr:last-child]:border-0",a),...c})}function j({className:a,...c}){return(0,b.jsx)("tr",{"data-slot":"table-row",className:(0,f.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...c})}function k({className:a,...c}){return(0,b.jsx)("th",{"data-slot":"table-head",className:(0,f.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...c})}function l({className:a,...c}){return(0,b.jsx)("td",{"data-slot":"table-cell",className:(0,f.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...c})}var m=a.i(84505),n=a.i(70106);let o=(0,n.default)("file-braces",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);var p=a.i(21374),q=a.i(67900),r=a.i(63588),s=a.i(4720),t=a.i(39761);let u=(0,n.default)("terminal",[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]]);var v=a.i(41675);let w=(0,n.default)("hard-drive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);var x=a.i(67453),y=a.i(41710);let z=new Intl.DateTimeFormat("en-US",{timeZone:"UTC",month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}),A=new Intl.NumberFormat("en-US");function B(a){return a<1024?`${a} B`:a<1048576?`${(a/1024).toFixed(1)} KB`:`${(a/1048576).toFixed(1)} MB`}function C(a){let b="string"==typeof a?new Date(a):a;return z.format(b)}function D({file:a,counts:c,isSelected:d,onSelect:e}){return(0,b.jsxs)("button",{type:"button",onClick:e,className:`relative w-full text-left cursor-pointer rounded-lg border p-4 transition-all ${d?"border-cyan-500/30 bg-cyan-500/5 shadow-lg shadow-cyan-500/5":"border-zinc-700/50 bg-zinc-900/30 hover:border-cyan-500/20 hover:bg-zinc-800/30"}`,children:[d&&(0,b.jsx)("div",{className:"absolute top-3 right-3",children:(0,b.jsx)("div",{className:"w-2 h-2 rounded-full bg-cyan-400 animate-pulse"})}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,b.jsx)(o,{className:`h-4 w-4 ${d?"text-cyan-400":"text-zinc-500"}`}),(0,b.jsx)("code",{className:`text-sm font-mono truncate ${d?"text-cyan-400":"text-zinc-300"}`,children:a.filename})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-xs",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"flex items-center gap-1.5 text-zinc-600 mb-1",children:[(0,b.jsx)(v.Calendar,{className:"h-3 w-3"}),"Exported"]}),(0,b.jsx)("p",{className:"font-mono text-zinc-400",children:C(a.timestamp)})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"flex items-center gap-1.5 text-zinc-600 mb-1",children:[(0,b.jsx)(w,{className:"h-3 w-3"}),"Size"]}),(0,b.jsx)("p",{className:"font-mono text-zinc-400 tabular-nums",children:B(a.size)})]})]}),c&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-2 mt-4 pt-4 border-t border-zinc-800/50",children:[(0,b.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded bg-cyan-500/10 text-cyan-400 text-[10px] font-mono border border-cyan-500/20",children:[(0,b.jsx)(q.Building2,{className:"h-3 w-3"}),c.contractors]}),(0,b.jsxs)("span",{className:"inline-flex items-center gap-1.5 px-2 py-1 rounded bg-amber-500/10 text-amber-400 text-[10px] font-mono border border-amber-500/20",children:[(0,b.jsx)(r.MessageSquare,{className:"h-3 w-3"}),c.reviews]})]})]})}function E({data:a}){let c=JSON.stringify(a,null,2),d=c.split("\n").slice(0,40),e=c.split("\n").length>40;return(0,b.jsxs)("div",{className:"relative rounded-lg bg-[#0d1117] border border-zinc-700/50 overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-[#161b22] border-b border-zinc-700/50",children:[(0,b.jsxs)("div",{className:"flex gap-1.5",children:[(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-[#ff5f56]"}),(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-[#ffbd2e]"}),(0,b.jsx)("div",{className:"w-3 h-3 rounded-full bg-[#27c93f]"})]}),(0,b.jsx)(u,{className:"h-3 w-3 text-zinc-500 ml-2"}),(0,b.jsx)("span",{className:"text-xs text-zinc-500 font-mono",children:"export.json"})]}),(0,b.jsx)("div",{className:"p-4 overflow-x-auto max-h-[500px] overflow-y-auto",children:(0,b.jsxs)("pre",{className:"text-xs font-mono leading-relaxed",children:[d.map((a,c)=>(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("span",{className:"w-8 text-right pr-4 text-zinc-700 select-none tabular-nums",children:c+1}),(0,b.jsx)("code",{className:"text-zinc-400",children:a})]},c)),e&&(0,b.jsxs)("div",{className:"flex mt-2",children:[(0,b.jsx)("span",{className:"w-8 text-right pr-4 text-zinc-700 select-none",children:"..."}),(0,b.jsx)("span",{className:"text-zinc-600 italic",children:"Truncated for preview"})]})]})})]})}function F({files:a,initialData:f}){let[n,v]=(0,c.useState)(a.length>0?a[0]:null),[w,z]=(0,c.useState)(f),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)("contractors"),J=async a=>{v(a),G(!0);try{let b=await fetch(`/api/exports/${a.filename}`);if(b.ok){let a=await b.json();z(a)}else z(null)}catch(a){console.error("Failed to load export:",a),z(null)}finally{G(!1)}},K=w?.data?.contractors||[],L=w?.data?.reviews||[],M=w?.data?.analyses||[],N=w?.data?.articles||[];return(0,b.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,b.jsxs)("div",{className:"col-span-4 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 px-1",children:[(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-violet-400 animate-pulse"}),(0,b.jsx)("span",{className:"text-xs font-mono uppercase tracking-widest text-zinc-500",children:"Export Files"})]}),(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>(0,b.jsx)(D,{file:a,counts:n?.filename===a.filename&&w?w.counts:void 0,isSelected:n?.filename===a.filename,onSelect:()=>J(a)},a.filename))})]}),n&&(0,b.jsxs)("div",{className:"col-span-8 space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-zinc-900/30 border border-zinc-800/50 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-zinc-200 font-mono",children:n.filename}),(0,b.jsxs)("p",{className:"text-xs text-zinc-500 font-mono mt-1",children:["Exported ",C(n.timestamp)," â€¢ ",B(n.size)]})]}),(0,b.jsxs)(d.Button,{size:"sm",className:"gap-2 bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 hover:bg-emerald-500/20",onClick:()=>{n&&window.open(`/api/exports/${n.filename}`,"_blank")},children:[(0,b.jsx)(m.Download,{className:"h-4 w-4"}),"Download"]})]}),F?(0,b.jsxs)("div",{className:"rounded-lg bg-zinc-900/30 border border-zinc-800/50 p-12 text-center",children:[(0,b.jsx)("div",{className:"animate-spin h-8 w-8 border-2 border-cyan-400 border-t-transparent rounded-full mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500 font-mono",children:"Loading export data..."})]}):w?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"rounded-lg bg-zinc-900/30 border border-zinc-800/50 p-4 text-center",children:[(0,b.jsx)("div",{className:"h-10 w-10 mx-auto mb-3 rounded-lg bg-cyan-500/10 border border-cyan-500/20 flex items-center justify-center",children:(0,b.jsx)(q.Building2,{className:"h-5 w-5 text-cyan-400"})}),(0,b.jsx)("p",{className:"text-2xl font-bold font-mono text-zinc-100 tabular-nums",children:A.format(w.counts.contractors)}),(0,b.jsx)("p",{className:"text-[10px] font-mono uppercase tracking-widest text-zinc-500 mt-1",children:"Contractors"})]}),(0,b.jsxs)("div",{className:"rounded-lg bg-zinc-900/30 border border-zinc-800/50 p-4 text-center",children:[(0,b.jsx)("div",{className:"h-10 w-10 mx-auto mb-3 rounded-lg bg-amber-500/10 border border-amber-500/20 flex items-center justify-center",children:(0,b.jsx)(r.MessageSquare,{className:"h-5 w-5 text-amber-400"})}),(0,b.jsx)("p",{className:"text-2xl font-bold font-mono text-zinc-100 tabular-nums",children:A.format(w.counts.reviews)}),(0,b.jsx)("p",{className:"text-[10px] font-mono uppercase tracking-widest text-zinc-500 mt-1",children:"Reviews"})]}),(0,b.jsxs)("div",{className:"rounded-lg bg-zinc-900/30 border border-zinc-800/50 p-4 text-center",children:[(0,b.jsx)("div",{className:"h-10 w-10 mx-auto mb-3 rounded-lg bg-violet-500/10 border border-violet-500/20 flex items-center justify-center",children:(0,b.jsx)(t.BarChart3,{className:"h-5 w-5 text-violet-400"})}),(0,b.jsx)("p",{className:"text-2xl font-bold font-mono text-zinc-100 tabular-nums",children:A.format(w.counts.analyses)}),(0,b.jsx)("p",{className:"text-[10px] font-mono uppercase tracking-widest text-zinc-500 mt-1",children:"Analyses"})]}),(0,b.jsxs)("div",{className:"rounded-lg bg-zinc-900/30 border border-zinc-800/50 p-4 text-center",children:[(0,b.jsx)("div",{className:"h-10 w-10 mx-auto mb-3 rounded-lg bg-emerald-500/10 border border-emerald-500/20 flex items-center justify-center",children:(0,b.jsx)(s.FileText,{className:"h-5 w-5 text-emerald-400"})}),(0,b.jsx)("p",{className:"text-2xl font-bold font-mono text-zinc-100 tabular-nums",children:A.format(w.counts.articles)}),(0,b.jsx)("p",{className:"text-[10px] font-mono uppercase tracking-widest text-zinc-500 mt-1",children:"Articles"})]})]}),(0,b.jsx)("div",{className:"bg-zinc-900/30 border border-zinc-800/50 rounded-lg overflow-hidden",children:(0,b.jsxs)(e.Tabs,{value:H,onValueChange:I,className:"w-full",children:[(0,b.jsx)("div",{className:"px-4 py-3 border-b border-zinc-800/50 bg-zinc-900/50",children:(0,b.jsxs)(e.TabsList,{className:"bg-zinc-800/50 border border-zinc-700/50 p-1 rounded-lg",children:[(0,b.jsxs)(e.TabsTrigger,{value:"contractors",className:"gap-1.5 text-xs font-mono data-[state=active]:bg-cyan-500/10 data-[state=active]:text-cyan-400",children:[(0,b.jsx)(q.Building2,{className:"h-3 w-3"}),"Contractors"]}),(0,b.jsxs)(e.TabsTrigger,{value:"reviews",className:"gap-1.5 text-xs font-mono data-[state=active]:bg-amber-500/10 data-[state=active]:text-amber-400",children:[(0,b.jsx)(r.MessageSquare,{className:"h-3 w-3"}),"Reviews"]}),(0,b.jsxs)(e.TabsTrigger,{value:"analyses",className:"gap-1.5 text-xs font-mono data-[state=active]:bg-violet-500/10 data-[state=active]:text-violet-400",children:[(0,b.jsx)(t.BarChart3,{className:"h-3 w-3"}),"Analyses"]}),(0,b.jsxs)(e.TabsTrigger,{value:"articles",className:"gap-1.5 text-xs font-mono data-[state=active]:bg-emerald-500/10 data-[state=active]:text-emerald-400",children:[(0,b.jsx)(s.FileText,{className:"h-3 w-3"}),"Articles"]}),(0,b.jsxs)(e.TabsTrigger,{value:"raw",className:"gap-1.5 text-xs font-mono data-[state=active]:bg-zinc-700/50 data-[state=active]:text-zinc-200",children:[(0,b.jsx)(u,{className:"h-3 w-3"}),"Raw JSON"]})]})}),(0,b.jsx)(e.TabsContent,{value:"contractors",className:"p-4 mt-0",children:0===K.length?(0,b.jsxs)("div",{className:"p-8 text-center",children:[(0,b.jsx)(q.Building2,{className:"h-8 w-8 mx-auto mb-2 text-zinc-600"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"No contractors in this export"})]}):(0,b.jsxs)("div",{className:"rounded-lg border border-zinc-800/50 overflow-hidden",children:[(0,b.jsxs)(g,{children:[(0,b.jsx)(h,{children:(0,b.jsxs)(j,{className:"border-zinc-800/50 hover:bg-transparent",children:[(0,b.jsx)(k,{className:"text-zinc-500 font-mono text-xs",children:"Business Name"}),(0,b.jsx)(k,{className:"text-zinc-500 font-mono text-xs",children:"Location"}),(0,b.jsx)(k,{className:"text-zinc-500 font-mono text-xs text-right",children:"Rating"}),(0,b.jsx)(k,{className:"text-zinc-500 font-mono text-xs text-right",children:"Reviews"})]})}),(0,b.jsx)(i,{children:K.slice(0,10).map((a,c)=>(0,b.jsxs)(j,{className:"border-zinc-800/30 hover:bg-zinc-800/20",children:[(0,b.jsx)(l,{className:"font-medium text-zinc-200",children:a.business_name||"Unknown"}),(0,b.jsxs)(l,{className:"text-zinc-500 font-mono text-sm",children:[a.city,", ",a.state]}),(0,b.jsx)(l,{className:"text-right",children:(0,b.jsxs)("span",{className:"inline-flex items-center gap-1.5 text-amber-400",children:[(0,b.jsx)("span",{className:"font-mono tabular-nums",children:a.rating?.toFixed(1)||"N/A"}),(0,b.jsx)(p.Star,{className:"h-3 w-3 fill-amber-400"})]})}),(0,b.jsx)(l,{className:"text-right font-mono text-sm text-zinc-400 tabular-nums",children:a.review_count||0})]},a.id||c))})]}),K.length>10&&(0,b.jsxs)("div",{className:"px-4 py-2 text-xs font-mono text-zinc-600 border-t border-zinc-800/50 bg-zinc-900/50",children:["Showing 10 of ",K.length," contractors"]})]})}),(0,b.jsx)(e.TabsContent,{value:"reviews",className:"p-4 mt-0",children:0===L.length?(0,b.jsxs)("div",{className:"p-8 text-center",children:[(0,b.jsx)(r.MessageSquare,{className:"h-8 w-8 mx-auto mb-2 text-zinc-600"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"No reviews in this export"})]}):(0,b.jsxs)("div",{className:"rounded-lg border border-zinc-800/50 overflow-hidden",children:[(0,b.jsxs)(g,{children:[(0,b.jsx)(h,{children:(0,b.jsxs)(j,{className:"border-zinc-800/50 hover:bg-transparent",children:[(0,b.jsx)(k,{className:"text-zinc-500 font-mono text-xs",children:"Reviewer"}),(0,b.jsx)(k,{className:"text-zinc-500 font-mono text-xs text-right",children:"Rating"}),(0,b.jsx)(k,{className:"text-zinc-500 font-mono text-xs text-right",children:"Date"})]})}),(0,b.jsx)(i,{children:L.slice(0,10).map((a,c)=>(0,b.jsxs)(j,{className:"border-zinc-800/30 hover:bg-zinc-800/20",children:[(0,b.jsx)(l,{className:"font-medium text-zinc-200",children:a.reviewer_name||"Anonymous"}),(0,b.jsx)(l,{className:"text-right",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs font-mono border ${(a.rating||0)>=4?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":(a.rating||0)>=3?"bg-amber-500/10 text-amber-400 border-amber-500/20":"bg-red-500/10 text-red-400 border-red-500/20"}`,children:[(0,b.jsx)(p.Star,{className:"h-3 w-3 fill-current"}),a.rating||0]})}),(0,b.jsx)(l,{className:"text-right text-zinc-500 font-mono text-sm",children:a.review_date||"Unknown"})]},a.id||c))})]}),L.length>10&&(0,b.jsxs)("div",{className:"px-4 py-2 text-xs font-mono text-zinc-600 border-t border-zinc-800/50 bg-zinc-900/50",children:["Showing 10 of ",L.length," reviews"]})]})}),(0,b.jsx)(e.TabsContent,{value:"analyses",className:"p-4 mt-0",children:0===M.length?(0,b.jsxs)("div",{className:"p-8 text-center",children:[(0,b.jsx)(t.BarChart3,{className:"h-8 w-8 mx-auto mb-2 text-zinc-600"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"No analyses in this export"})]}):(0,b.jsxs)("div",{className:"p-8 text-center bg-zinc-800/20 rounded-lg border border-zinc-800/50",children:[(0,b.jsx)("div",{className:"h-12 w-12 mx-auto mb-4 rounded-lg bg-violet-500/10 border border-violet-500/20 flex items-center justify-center",children:(0,b.jsx)(t.BarChart3,{className:"h-6 w-6 text-violet-400"})}),(0,b.jsx)("p",{className:"text-2xl font-bold font-mono text-zinc-100 tabular-nums",children:M.length}),(0,b.jsx)("p",{className:"text-sm text-zinc-500 mt-1",children:"analyses in this export"}),(0,b.jsx)("p",{className:"text-xs text-zinc-600 mt-3",children:"Select Raw JSON tab to view analysis data"})]})}),(0,b.jsx)(e.TabsContent,{value:"articles",className:"p-4 mt-0",children:0===N.length?(0,b.jsxs)("div",{className:"p-8 text-center",children:[(0,b.jsx)(s.FileText,{className:"h-8 w-8 mx-auto mb-2 text-zinc-600"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"No articles in this export"})]}):(0,b.jsxs)("div",{className:"rounded-lg border border-zinc-800/50 overflow-hidden",children:[(0,b.jsxs)(g,{children:[(0,b.jsx)(h,{children:(0,b.jsxs)(j,{className:"border-zinc-800/50 hover:bg-transparent",children:[(0,b.jsx)(k,{className:"text-zinc-500 font-mono text-xs",children:"Title"}),(0,b.jsx)(k,{className:"text-zinc-500 font-mono text-xs text-right",children:"Status"})]})}),(0,b.jsx)(i,{children:N.slice(0,10).map((a,c)=>(0,b.jsxs)(j,{className:"border-zinc-800/30 hover:bg-zinc-800/20",children:[(0,b.jsx)(l,{className:"font-medium text-zinc-200",children:a.title||"Untitled"}),(0,b.jsx)(l,{className:"text-right",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-[10px] font-mono uppercase tracking-widest border ${"published"===a.status?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"draft"===a.status?"bg-amber-500/10 text-amber-400 border-amber-500/20":"bg-zinc-700/50 text-zinc-400 border-zinc-600/50"}`,children:["published"===a.status?(0,b.jsx)(x.CheckCircle2,{className:"h-3 w-3"}):(0,b.jsx)(y.Clock,{className:"h-3 w-3"}),a.status||"unknown"]})})]},a.id||c))})]}),N.length>10&&(0,b.jsxs)("div",{className:"px-4 py-2 text-xs font-mono text-zinc-600 border-t border-zinc-800/50 bg-zinc-900/50",children:["Showing 10 of ",N.length," articles"]})]})}),(0,b.jsx)(e.TabsContent,{value:"raw",className:"p-4 mt-0",children:(0,b.jsx)(E,{data:w})})]})})]}):(0,b.jsxs)("div",{className:"rounded-lg bg-zinc-900/30 border border-zinc-800/50 p-12 text-center",children:[(0,b.jsx)(o,{className:"h-12 w-12 mx-auto mb-4 text-zinc-600"}),(0,b.jsx)("p",{className:"text-sm text-zinc-500",children:"Failed to load export data"})]})]})]})}a.s(["default",()=>F],82101)}];

//# sourceMappingURL=src_components_exports_ExportViewer_tsx_95e90c1b._.js.map