{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/aaronbaker/knearme-workspace/review-agent-dashboard/src/components/dashboard/ReviewCard.tsx"],"sourcesContent":["import type { DBReview } from '@/lib/types';\nimport { Star, User, MessageCircle } from 'lucide-react';\n\ninterface ReviewCardProps {\n  review: DBReview;\n}\n\nconst reviewDateFormatter = new Intl.DateTimeFormat('en-US', {\n  timeZone: 'UTC',\n  month: 'short',\n  day: 'numeric',\n  year: 'numeric',\n});\n\n/**\n * Renders a star rating display with colored stars.\n */\nfunction StarRating({ rating }: { rating: number }) {\n  return (\n    <div className=\"flex items-center gap-0.5\">\n      {[1, 2, 3, 4, 5].map((s) => (\n        <Star\n          key={s}\n          className={`w-3.5 h-3.5 ${s <= rating ? 'text-amber-500 fill-amber-500' : 'text-muted-foreground/20'}`}\n        />\n      ))}\n    </div>\n  );\n}\n\n/**\n * ReviewCard component displays a single review with premium glass styling.\n */\nexport function ReviewCard({ review }: ReviewCardProps) {\n  const formattedDate = review.review_date\n    ? reviewDateFormatter.format(new Date(review.review_date))\n    : 'Unknown date';\n\n  return (\n    <div className=\"group rounded-2xl glass-alt border border-border/50 p-5 shadow-depth hover:border-primary/20 transition-all duration-300\">\n      {/* Header: User Info and Rating */}\n      <div className=\"flex items-start justify-between gap-4 mb-4\">\n        <div className=\"flex items-center gap-3\">\n          <div className=\"h-10 w-10 rounded-full bg-secondary/50 flex items-center justify-center border border-border/50 group-hover:border-primary/30 transition-colors\">\n            <User className=\"w-5 h-5 text-muted-foreground/50 group-hover:text-primary transition-colors\" />\n          </div>\n          <div>\n            <p className=\"text-sm font-bold text-foreground\">\n              {review.reviewer_name || 'Anonymous User'}\n            </p>\n            <div className=\"flex items-center gap-2 mt-0.5\">\n              <StarRating rating={review.rating} />\n              <span className=\"text-[10px] font-bold text-muted-foreground/50 uppercase tracking-tighter\">\n                {formattedDate}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Review Text */}\n      <div className=\"relative\">\n        <div className=\"absolute -left-2 top-0 text-3xl font-serif text-primary/10 select-none\">&ldquo;</div>\n        <p className=\"text-sm text-muted-foreground font-medium leading-relaxed pl-4 line-clamp-4 group-hover:line-clamp-none transition-all duration-500\">\n          {review.review_text || <span className=\"italic opacity-50\">No text provided.</span>}\n        </p>\n      </div>\n\n      {/* Owner Response */}\n      {review.owner_response && (\n        <div className=\"mt-5 pt-4 border-t border-border/30 relative\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <div className=\"p-1 rounded bg-primary/10\">\n              <MessageCircle className=\"w-3 h-3 text-primary\" />\n            </div>\n            <p className=\"text-[10px] font-bold text-primary uppercase tracking-widest\">Official Response</p>\n          </div>\n          <p className=\"text-xs font-semibold text-foreground/80 leading-relaxed bg-background/30 rounded-lg p-3 border border-border/20\">\n            {review.owner_response}\n          </p>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AAAA;AAAA;;;AAMA,MAAM,sBAAsB,IAAI,KAAK,cAAc,CAAC,SAAS;IAC3D,UAAU;IACV,OAAO;IACP,KAAK;IACL,MAAM;AACR;AAEA;;CAEC,GACD,SAAS,WAAW,EAAE,MAAM,EAAsB;IAChD,qBACE,8OAAC;QAAI,WAAU;kBACZ;YAAC;YAAG;YAAG;YAAG;YAAG;SAAE,CAAC,GAAG,CAAC,CAAC,kBACpB,8OAAC,0MAAI;gBAEH,WAAW,CAAC,YAAY,EAAE,KAAK,SAAS,kCAAkC,4BAA4B;eADjG;;;;;;;;;;AAMf;AAKO,SAAS,WAAW,EAAE,MAAM,EAAmB;IACpD,MAAM,gBAAgB,OAAO,WAAW,GACpC,oBAAoB,MAAM,CAAC,IAAI,KAAK,OAAO,WAAW,KACtD;IAEJ,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,0MAAI;gCAAC,WAAU;;;;;;;;;;;sCAElB,8OAAC;;8CACC,8OAAC;oCAAE,WAAU;8CACV,OAAO,aAAa,IAAI;;;;;;8CAE3B,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAW,QAAQ,OAAO,MAAM;;;;;;sDACjC,8OAAC;4CAAK,WAAU;sDACb;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAQX,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCAAyE;;;;;;kCACxF,8OAAC;wBAAE,WAAU;kCACV,OAAO,WAAW,kBAAI,8OAAC;4BAAK,WAAU;sCAAoB;;;;;;;;;;;;;;;;;YAK9D,OAAO,cAAc,kBACpB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,yOAAa;oCAAC,WAAU;;;;;;;;;;;0CAE3B,8OAAC;gCAAE,WAAU;0CAA+D;;;;;;;;;;;;kCAE9E,8OAAC;wBAAE,WAAU;kCACV,OAAO,cAAc;;;;;;;;;;;;;;;;;;AAMlC"}},
    {"offset": {"line": 210, "column": 0}, "map": {"version":3,"sources":["file:///Users/aaronbaker/knearme-workspace/review-agent-dashboard/src/components/dashboard/AnalysisDisplay.tsx"],"sourcesContent":["'use client'\n\nimport type { ReviewAnalysis, ThemeAnalysis } from '@/lib/types';\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  Cell\n} from 'recharts';\nimport {\n  TrendingUp,\n  TrendingDown,\n  AlertTriangle,\n  CheckCircle,\n  Lightbulb,\n  Quote,\n  Star,\n  Info,\n  Monitor,\n  Hash,\n  DollarSign,\n  Calendar,\n  type LucideIcon\n} from 'lucide-react';\n\nconst analysisDateFormatter = new Intl.DateTimeFormat('en-US', {\n  timeZone: 'UTC',\n  month: 'short',\n  day: 'numeric',\n  year: 'numeric',\n  hour: 'numeric',\n  minute: '2-digit',\n});\n\nconst numberFormatter = new Intl.NumberFormat('en-US');\n\ninterface AnalysisDisplayProps {\n  analysis: ReviewAnalysis;\n  modelUsed?: string;\n  tokensUsed?: number;\n  costEstimate?: number;\n  analyzedAt?: string;\n}\n\ntype SentimentKey = ReviewAnalysis['sentiment']['overall'];\n\ntype RatingTooltipPayload = {\n  value?: number;\n  payload?: {\n    stars?: string;\n  };\n};\n\ntype RatingTooltipProps = {\n  active?: boolean;\n  payload?: RatingTooltipPayload[];\n};\n\nfunction RatingTooltip({ active, payload }: RatingTooltipProps) {\n  if (!active || !payload?.length) return null;\n\n  const entry = payload[0];\n  const stars = entry.payload?.stars ?? '';\n  const count = typeof entry.value === 'number' ? entry.value : 0;\n\n  return (\n    <div className=\"bg-card border border-border p-2 rounded-lg shadow-elevated text-xs\">\n      <p className=\"font-bold text-foreground\">{stars}</p>\n      <p className=\"text-muted-foreground\">{count} reviews</p>\n    </div>\n  );\n}\n\n/**\n * Visual indicator for sentiment score.\n * Shows a gradient bar with marker for the score position.\n */\nfunction SentimentIndicator({ score, overall }: { score: number; overall: SentimentKey }) {\n  const percentage = ((score + 1) / 2) * 100;\n\n  const sentimentConfigs: Record<SentimentKey, { color: string; bg: string; icon: LucideIcon }> = {\n    positive: { color: 'text-[var(--success)]', bg: 'bg-[var(--success)]/10', icon: TrendingUp },\n    negative: { color: 'text-[var(--destructive)]', bg: 'bg-[var(--destructive)]/10', icon: TrendingDown },\n    mixed: { color: 'text-[var(--warning)]', bg: 'bg-[var(--warning)]/10', icon: Info },\n    neutral: { color: 'text-[var(--muted-foreground)]', bg: 'bg-muted/10', icon: Info },\n  };\n\n  const config = sentimentConfigs[overall] ?? sentimentConfigs.neutral;\n  const Icon = config.icon;\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <div className={`p-2 rounded-lg ${config.bg} ${config.color}`}>\n            <Icon className=\"w-4 h-4\" />\n          </div>\n          <div>\n            <span className=\"text-xs text-[var(--muted-foreground)] uppercase tracking-wider block\">Sentiment</span>\n            <span className={`text-sm font-bold capitalize ${config.color}`}>\n              {overall}\n            </span>\n          </div>\n        </div>\n        <div className=\"text-right\">\n          <span className=\"text-xs text-[var(--muted-foreground)] uppercase tracking-wider block\">Score</span>\n          <span className=\"text-lg font-mono font-bold text-foreground\">\n            {score > 0 ? '+' : ''}{score.toFixed(2)}\n          </span>\n        </div>\n      </div>\n\n      <div className=\"relative pt-2\">\n        <div className=\"h-2 w-full rounded-full bg-secondary/50 overflow-hidden flex\">\n          <div className=\"h-full bg-[var(--destructive)]\" style={{ width: '33.33%' }} />\n          <div className=\"h-full bg-[var(--warning)]\" style={{ width: '33.33%' }} />\n          <div className=\"h-full bg-[var(--success)]\" style={{ width: '33.34%' }} />\n        </div>\n        <div\n          className=\"absolute top-0 w-4 h-6 -mt-1 transition-all duration-1000 ease-out\"\n          style={{ left: `calc(${percentage}% - 8px)` }}\n        >\n          <div className=\"h-full w-0.5 bg-foreground mx-auto shadow-glow\" />\n          <div className=\"w-3 h-3 rounded-full bg-foreground border-2 border-background shadow-depth mx-auto -mt-1\" />\n        </div>\n      </div>\n\n      <div className=\"flex justify-between text-[10px] text-[var(--muted-foreground)] font-medium uppercase tracking-tighter\">\n        <span>Negative</span>\n        <span>Neutral</span>\n        <span>Positive</span>\n      </div>\n    </div>\n  );\n}\n\n/**\n * Rating distribution chart using Recharts.\n */\nfunction RatingDistribution({ distribution }: { distribution: Record<string, number> }) {\n  const data = [5, 4, 3, 2, 1].map(stars => ({\n    stars: `${stars} â˜…`,\n    count: distribution[stars.toString()] || 0,\n    starNum: stars\n  }));\n\n  return (\n    <div className=\"h-[180px] w-full mt-4\">\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <BarChart data={data} layout=\"vertical\" margin={{ left: -20, right: 10, top: 0, bottom: 0 }}>\n          <CartesianGrid strokeDasharray=\"3 3\" horizontal={false} stroke=\"var(--border)\" opacity={0.3} />\n          <XAxis type=\"number\" hide />\n          <YAxis\n            dataKey=\"stars\"\n            type=\"category\"\n            axisLine={false}\n            tickLine={false}\n            tick={{ fill: 'var(--muted-foreground)', fontSize: 12, fontWeight: 500 }}\n          />\n          <Tooltip content={<RatingTooltip />} cursor={{ fill: 'var(--secondary)', opacity: 0.4 }} />\n          <Bar dataKey=\"count\" radius={[0, 4, 4, 0]} barSize={16}>\n            {data.map((entry, index) => (\n              <Cell\n                key={`cell-${index}`}\n                fill={entry.starNum >= 4 ? 'var(--success)' : entry.starNum >= 3 ? 'var(--warning)' : 'var(--destructive)'}\n                fillOpacity={0.8}\n              />\n            ))}\n          </Bar>\n        </BarChart>\n      </ResponsiveContainer>\n    </div>\n  );\n}\n\n/**\n * Theme card component.\n */\nfunction ThemeCard({ theme, type }: { theme: ThemeAnalysis; type: 'positive' | 'negative' }) {\n  const isPos = type === 'positive';\n  const colorClass = isPos ? 'text-[var(--success)]' : 'text-[var(--destructive)]';\n  const bgClass = isPos ? 'bg-[var(--success)]/10' : 'bg-[var(--destructive)]/10';\n  const borderClass = isPos ? 'border-[var(--success)]/20' : 'border-[var(--destructive)]/20';\n\n  return (\n    <div className={`rounded-xl border ${borderClass} ${bgClass} p-4 transition-all hover:scale-[1.02] cursor-default group`}>\n      <div className=\"flex items-center justify-between mb-3\">\n        <span className={`text-sm font-bold uppercase tracking-wide ${colorClass}`}>{theme.theme}</span>\n        <span className=\"text-[10px] font-mono bg-background/50 px-2 py-0.5 rounded border border-border/50 text-muted-foreground\">\n          {theme.count} mentions\n        </span>\n      </div>\n      <div className=\"space-y-2\">\n        {theme.examples?.slice(0, 2).map((example: string, i: number) => (\n          <div key={i} className=\"flex gap-2\">\n            <Quote className={`w-3 h-3 mt-1 shrink-0 ${colorClass} opacity-50`} />\n            <p className=\"text-xs text-muted-foreground italic leading-relaxed\">\n              {example}\n            </p>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\n/**\n * Insight Card for Red Flags, Strengths, or Recommendations.\n */\nfunction InsightCard({ title, items, type }: { title: string; items: string[]; type: 'red-flag' | 'strength' | 'recommendation' }) {\n  const configs = {\n    'red-flag': {\n      icon: AlertTriangle,\n      color: 'text-[var(--destructive)]',\n      bg: 'bg-[var(--destructive)]/5',\n      border: 'border-[var(--destructive)]/20',\n      bullet: 'bg-[var(--destructive)]',\n    },\n    'strength': {\n      icon: CheckCircle,\n      color: 'text-[var(--success)]',\n      bg: 'bg-[var(--success)]/5',\n      border: 'border-[var(--success)]/20',\n      bullet: 'bg-[var(--success)]',\n    },\n    'recommendation': {\n      icon: Lightbulb,\n      color: 'text-[var(--primary)]',\n      bg: 'bg-[var(--primary)]/5',\n      border: 'border-[var(--primary)]/20',\n      bullet: 'bg-[var(--primary)]',\n    }\n  };\n\n  const config = configs[type];\n  const Icon = config.icon;\n\n  if (!items || items.length === 0) return null;\n\n  return (\n    <div className={`rounded-xl border ${config.border} ${config.bg} p-5 shadow-sm animate-fade-up`}>\n      <div className=\"flex items-center gap-3 mb-4\">\n        <div className={`p-2 rounded-lg bg-background/50 border ${config.border} ${config.color}`}>\n          <Icon className=\"w-5 h-5\" />\n        </div>\n        <h4 className={`text-sm font-bold uppercase tracking-wider ${config.color}`}>{title}</h4>\n      </div>\n      <ul className=\"space-y-3\">\n        {items.map((item, idx) => (\n          <li key={idx} className=\"flex items-start gap-3 group\">\n            <div className={`mt-1.5 h-1.5 w-1.5 shrink-0 rounded-full ${config.bullet} shadow-glow`} />\n            <p className=\"text-sm text-foreground/90 leading-relaxed font-medium group-hover:text-foreground transition-colors\">\n              {item}\n            </p>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\n/**\n * Format timestamp to readable date\n */\nfunction formatDate(dateString: string): string {\n  return analysisDateFormatter.format(new Date(dateString));\n}\n\n/**\n * AnalysisDisplay component shows the full AI analysis of contractor reviews.\n * Enhanced with premium visualizations and interactive scannability.\n */\nexport function AnalysisDisplay({ analysis, modelUsed, tokensUsed, costEstimate, analyzedAt }: AnalysisDisplayProps) {\n  return (\n    <div className=\"space-y-8 pb-12\">\n      {/* Generation Metadata */}\n      {(modelUsed || tokensUsed || costEstimate || analyzedAt) && (\n        <div className=\"flex flex-wrap items-center gap-4 text-xs text-muted-foreground bg-secondary/30 rounded-xl px-4 py-3 border border-border/50\">\n          {analyzedAt && (\n            <span className=\"flex items-center gap-1.5\">\n              <Calendar className=\"h-3.5 w-3.5\" />\n              Analyzed: {formatDate(analyzedAt)}\n            </span>\n          )}\n          {modelUsed && (\n            <span className=\"flex items-center gap-1.5\">\n              <Monitor className=\"h-3.5 w-3.5\" />\n              Model: {modelUsed}\n            </span>\n          )}\n          {tokensUsed && (\n            <span className=\"flex items-center gap-1.5\">\n              <Hash className=\"h-3.5 w-3.5\" />\n              {numberFormatter.format(tokensUsed)} tokens\n            </span>\n          )}\n          {costEstimate && (\n            <span className=\"flex items-center gap-1.5\">\n              <DollarSign className=\"h-3.5 w-3.5\" />\n              ${costEstimate.toFixed(4)}\n            </span>\n          )}\n        </div>\n      )}\n      {/* Top Section: Sentiment & Distribution */}\n      <div className=\"grid grid-cols-1 lg:grid-cols-5 gap-6\">\n        {/* Sentiment Card */}\n        <div className=\"lg:col-span-2 rounded-2xl glass border border-border p-6 shadow-depth animate-fade-up stagger-1\">\n          <h4 className=\"text-xs font-bold text-muted-foreground uppercase tracking-widest mb-6\">Pipeline Analysis: Sentiment</h4>\n          <SentimentIndicator score={analysis.sentiment.score} overall={analysis.sentiment.overall} />\n\n          <div className=\"mt-8 pt-6 border-t border-border/50\">\n            <p className=\"text-sm text-muted-foreground leading-relaxed italic\">\n              AI generated summary of {analysis.summary.total_reviews} verified reviews.\n            </p>\n          </div>\n        </div>\n\n        {/* Rating Distribution Card */}\n        <div className=\"lg:col-span-3 rounded-2xl glass border border-border p-6 shadow-depth animate-fade-up stagger-2\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h4 className=\"text-xs font-bold text-muted-foreground uppercase tracking-widest\">Rating Distribution</h4>\n            <div className=\"flex items-center gap-2\">\n              <Star className=\"w-4 h-4 text-amber-500 fill-amber-500\" />\n              <span className=\"text-sm font-bold\">{analysis.summary.average_rating.toFixed(1)} Avg</span>\n            </div>\n          </div>\n          <RatingDistribution distribution={analysis.summary.rating_distribution} />\n        </div>\n      </div>\n\n      {/* Themes Section */}\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center gap-4\">\n          <h3 className=\"text-lg font-bold\">Key Review Themes</h3>\n          <div className=\"h-px flex-1 bg-border/50\" />\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {/* Positive Themes */}\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center gap-2 px-1\">\n              <CheckCircle className=\"w-4 h-4 text-[var(--success)]\" />\n              <span className=\"text-xs font-bold text-[var(--success)] uppercase tracking-wider\">Recurring Praise</span>\n            </div>\n            <div className=\"grid gap-4\">\n              {analysis.themes.positive.map((theme, idx) => (\n                <ThemeCard key={idx} theme={theme} type=\"positive\" />\n              ))}\n            </div>\n          </div>\n\n          {/* Negative Themes */}\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center gap-2 px-1\">\n              <AlertTriangle className=\"w-4 h-4 text-[var(--destructive)]\" />\n              <span className=\"text-xs font-bold text-[var(--destructive)] uppercase tracking-wider\">Points of Friction</span>\n            </div>\n            <div className=\"grid gap-4\">\n              {analysis.themes.negative.map((theme, idx) => (\n                <ThemeCard key={idx} theme={theme} type=\"negative\" />\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Notable Quotes */}\n      {analysis.notable_quotes && analysis.notable_quotes.length > 0 && (\n        <div className=\"space-y-6\">\n          <div className=\"flex items-center gap-4\">\n            <h3 className=\"text-lg font-bold\">Voice of the Customer</h3>\n            <div className=\"h-px flex-1 bg-border/50\" />\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            {analysis.notable_quotes.map((quote, idx) => (\n              <div key={idx} className=\"relative group rounded-xl bg-secondary/30 border border-border/50 p-5 hover:bg-secondary/50 transition-all hover:border-primary/30\">\n                <Quote className=\"absolute top-4 right-4 w-12 h-12 text-primary opacity-5 pointer-events-none transition-all group-hover:opacity-10\" />\n                <p className=\"text-sm text-foreground/90 italic leading-relaxed relative z-10 mb-4\">\n                  &ldquo;{quote.quote}&rdquo;\n                </p>\n                <div className=\"flex items-center justify-between mt-auto pt-4 border-t border-border/30\">\n                  <div className=\"flex items-center gap-1\">\n                    {[1, 2, 3, 4, 5].map((s) => (\n                      <Star key={s} className={`w-3 h-3 ${s <= quote.rating ? 'text-amber-500 fill-amber-500' : 'text-muted'}`} />\n                    ))}\n                  </div>\n                  <span className=\"text-[10px] text-muted-foreground uppercase font-semibold\">{quote.context}</span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Insights Section */}\n      <div className=\"space-y-6\">\n        <div className=\"flex items-center gap-4\">\n          <h3 className=\"text-lg font-bold\">Actionable Insights</h3>\n          <div className=\"h-px flex-1 bg-border/50\" />\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n          <InsightCard title=\"Critical Red Flags\" items={analysis.red_flags} type=\"red-flag\" />\n          <InsightCard title=\"Competitive Strengths\" items={analysis.strengths} type=\"strength\" />\n          <InsightCard title=\"Strategic Recommendations\" items={analysis.recommendations} type=\"recommendation\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1328, "column": 0}, "map": {"version":3,"sources":["file:///Users/aaronbaker/knearme-workspace/review-agent-dashboard/src/components/dashboard/ArticlePreview.tsx"],"sourcesContent":["import type { DBArticle } from '@/lib/types';\nimport {\n  FileText,\n  ExternalLink,\n  Clock,\n  Search,\n  Code,\n  CheckCircle2,\n  AlertCircle,\n  Monitor,\n  DollarSign\n} from 'lucide-react';\n\nconst articlePreviewDateFormatter = new Intl.DateTimeFormat('en-US', {\n  timeZone: 'UTC',\n  month: 'short',\n  day: 'numeric',\n  hour: 'numeric',\n  minute: '2-digit',\n  hour12: true,\n});\n\nconst numberFormatter = new Intl.NumberFormat('en-US');\n\ninterface ArticlePreviewProps {\n  article: DBArticle;\n}\n\n/**\n * Status badge component for article status.\n * Enhanced with premium variants.\n */\nfunction StatusBadge({ status }: { status: 'draft' | 'published' }) {\n  const isPublished = status === 'published';\n\n  return (\n    <div className={`flex items-center gap-2 px-3 py-1 rounded-lg text-xs font-black uppercase tracking-widest border transition-all ${isPublished\n        ? 'bg-[var(--success)]/10 text-[var(--success)] border-[var(--success)]/30 shadow-glow-sm'\n        : 'bg-amber-500/10 text-amber-500 border-amber-500/30'\n      }`}>\n      {isPublished ? <CheckCircle2 className=\"w-3 h-3\" /> : <AlertCircle className=\"w-3 h-3\" />}\n      {status}\n    </div>\n  );\n}\n\n/**\n * Simple markdown renderer with premium typography.\n */\nfunction MarkdownContent({ content }: { content: string }) {\n  const previewContent = content.length > 2000 ? content.slice(0, 2000) + '...' : content;\n  const lines = previewContent.split('\\n');\n\n  return (\n    <div className=\"prose prose-sm prose-invert max-w-none space-y-4\">\n      {lines.map((line, idx) => {\n        if (line.startsWith('# ')) {\n          return <h1 key={idx} className=\"text-2xl font-black text-foreground mt-8 mb-4\">{line.slice(2)}</h1>;\n        }\n        if (line.startsWith('## ')) {\n          return <h2 key={idx} className=\"text-xl font-bold text-foreground mt-6 mb-2\">{line.slice(3)}</h2>;\n        }\n        if (line.startsWith('### ')) {\n          return <h3 key={idx} className=\"text-lg font-bold text-foreground mt-4 mb-2\">{line.slice(4)}</h3>;\n        }\n        if (line.startsWith('- ') || line.startsWith('* ')) {\n          return (\n            <div key={idx} className=\"flex gap-3 items-start ml-2\">\n              <div className=\"h-1.5 w-1.5 rounded-full bg-primary mt-1.5 shrink-0\" />\n              <p className=\"text-sm text-muted-foreground leading-relaxed\">{line.slice(2)}</p>\n            </div>\n          );\n        }\n        if (line.trim() === '') return <div key={idx} className=\"h-2\" />;\n        return <p key={idx} className=\"text-sm text-muted-foreground leading-relaxed text-pretty\">{line}</p>;\n      })}\n    </div>\n  );\n}\n\n/**\n * ArticlePreview component displays the generated article content.\n * Enhanced with premium glass aesthetics and structured layout.\n */\nexport function ArticlePreview({ article }: ArticlePreviewProps) {\n  const formattedDate = articlePreviewDateFormatter.format(new Date(article.generated_at));\n\n  return (\n    <div className=\"space-y-8 animate-fade-in\">\n      {/* Header Section */}\n      <div className=\"relative group\">\n        <div className=\"absolute -inset-1 bg-gradient-to-r from-primary/20 to-blue-500/10 rounded-2xl blur opacity-0 group-hover:opacity-100 transition duration-500\" />\n        <div className=\"relative rounded-2xl glass border border-border p-8 shadow-depth\">\n          <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6\">\n            <div className=\"space-y-2\">\n              <div className=\"flex items-center gap-3\">\n                <StatusBadge status={article.status} />\n                <span className=\"text-xs text-muted-foreground font-medium uppercase tracking-tighter\">AI Engineered Content</span>\n              </div>\n              <h3 className=\"text-2xl font-black text-foreground tracking-tight leading-tight group-hover:text-primary transition-colors\">\n                {article.title}\n              </h3>\n              <div className=\"flex items-center gap-1.5 text-xs text-muted-foreground font-bold\">\n                <ExternalLink className=\"w-3.5 h-3.5\" />\n                <span>/{article.slug}</span>\n              </div>\n            </div>\n\n            <div className=\"flex flex-col items-end gap-3 shrink-0\">\n              <div className=\"flex items-center gap-4 p-3 bg-secondary/50 rounded-xl border border-border/50\">\n                {article.model_used && (\n                  <div className=\"flex flex-col items-center px-4 border-r border-border/50\">\n                    <Monitor className=\"w-4 h-4 text-primary mb-1\" />\n                    <span className=\"text-[10px] font-bold text-muted-foreground whitespace-nowrap\">{article.model_used}</span>\n                  </div>\n                )}\n                <div className=\"flex flex-col items-center px-4 border-r border-border/50\">\n                  <span className=\"text-[10px] font-black uppercase text-muted-foreground/50 tracking-widest mb-1\">Tokens</span>\n                  <span className=\"text-sm font-bold text-foreground\">{numberFormatter.format(article.tokens_used || 0)}</span>\n                </div>\n                {article.cost_estimate && (\n                  <div className=\"flex flex-col items-center px-4 border-r border-border/50\">\n                    <DollarSign className=\"w-4 h-4 text-emerald-500 mb-1\" />\n                    <span className=\"text-[10px] font-bold text-muted-foreground\">${article.cost_estimate.toFixed(4)}</span>\n                  </div>\n                )}\n                <div className=\"flex flex-col items-center px-2\">\n                  <Clock className=\"w-4 h-4 text-primary mb-1\" />\n                  <span className=\"text-[10px] font-bold text-muted-foreground whitespace-nowrap\">{formattedDate}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n        {/* SEO Metadata */}\n        <div className=\"rounded-2xl glass-alt border border-border p-6 shadow-depth\">\n          <div className=\"flex items-center gap-3 mb-6\">\n            <div className=\"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center\">\n              <Search className=\"w-4 h-4 text-primary\" />\n            </div>\n            <h4 className=\"font-bold text-foreground\">Search Engine Optimization</h4>\n          </div>\n\n          <div className=\"space-y-5\">\n            <div>\n              <label className=\"text-[10px] font-black uppercase text-primary tracking-widest\">Meta Title</label>\n              <p className=\"text-sm font-medium text-foreground mt-1 leading-relaxed\">{article.metadata_json.seo.title}</p>\n            </div>\n            <div>\n              <label className=\"text-[10px] font-black uppercase text-primary tracking-widest\">Meta Description</label>\n              <p className=\"text-xs font-medium text-muted-foreground mt-1 leading-relaxed\">{article.metadata_json.seo.description}</p>\n            </div>\n            <div>\n              <label className=\"text-[10px] font-black uppercase text-primary tracking-widest\">Target Keywords</label>\n              <div className=\"flex flex-wrap gap-2 mt-2\">\n                {article.metadata_json.seo.keywords.map((kw, i) => (\n                  <span key={i} className=\"px-2.5 py-1 rounded-md bg-secondary/80 text-[10px] font-bold text-foreground border border-border/50\">\n                    {kw}\n                  </span>\n                ))}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Structured Data */}\n        <div className=\"rounded-2xl glass-alt border border-border p-6 shadow-depth\">\n          <div className=\"flex items-center gap-3 mb-6\">\n            <div className=\"h-8 w-8 rounded-lg bg-blue-500/10 flex items-center justify-center\">\n              <Code className=\"w-4 h-4 text-blue-400\" />\n            </div>\n            <h4 className=\"font-bold text-foreground\">Structured Schema (JSON-LD)</h4>\n          </div>\n\n          <div className=\"bg-background/50 rounded-xl p-4 font-mono text-[10px] max-h-[180px] overflow-y-auto custom-scrollbar border border-border/50\">\n            <pre className=\"text-muted-foreground/80 leading-normal\">\n              {JSON.stringify(article.metadata_json.structured_data, null, 2)}\n            </pre>\n          </div>\n        </div>\n      </div>\n\n      {/* Content Canvas */}\n      <div className=\"rounded-3xl glass border border-border overflow-hidden shadow-elevated\">\n        <div className=\"bg-secondary/30 border-b border-border/50 px-6 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <FileText className=\"w-4 h-4 text-primary\" />\n            <span className=\"text-xs font-black uppercase tracking-widest\">Article Canvas</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"h-2 w-2 rounded-full bg-red-500/30\" />\n            <div className=\"h-2 w-2 rounded-full bg-yellow-500/30\" />\n            <div className=\"h-2 w-2 rounded-full bg-green-500/30\" />\n          </div>\n        </div>\n        <div className=\"p-10 max-h-[800px] overflow-y-auto custom-scrollbar\">\n          <MarkdownContent content={article.content_markdown} />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1977, "column": 0}, "map": {"version":3,"sources":["file:///Users/aaronbaker/knearme-workspace/review-agent-dashboard/src/components/ui/tabs.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,8OAAC,wKAAkB;QACjB,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OAC6C;IAChD,qBACE,8OAAC,wKAAkB;QACjB,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,uGACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,yHAAE,EACX,mqBACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACgD;IACnD,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,yHAAE,EAAC,uBAAuB;QACpC,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 2043, "column": 0}, "map": {"version":3,"sources":["file:///Users/aaronbaker/knearme-workspace/review-agent-dashboard/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,gBAAc;QACd,aAAW;QACX,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 2104, "column": 0}, "map": {"version":3,"sources":["file:///Users/aaronbaker/knearme-workspace/review-agent-dashboard/src/components/dashboard/ContractorTabs.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useMemo } from 'react';\nimport type { DBReview, ContractorDetail } from '@/lib/types';\nimport { ReviewCard } from '@/components/dashboard/ReviewCard';\nimport { AnalysisDisplay } from '@/components/dashboard/AnalysisDisplay';\nimport { ArticlePreview } from '@/components/dashboard/ArticlePreview';\nimport { MessageSquare, Lightbulb, FileText, LayoutDashboard, Filter, X, Star } from 'lucide-react';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Button } from '@/components/ui/button';\nimport { cn } from '@/lib/utils';\n\ninterface ContractorTabsProps {\n  reviews: DBReview[];\n  analysis: ContractorDetail['analysis'];\n  article: ContractorDetail['article'];\n}\n\ntype FilterType = 'all' | 'positive' | 'negative' | 'star-5' | 'star-4' | 'star-3' | 'star-2' | 'star-1';\n\n/**\n * Client component for tab functionality on the contractor detail page.\n * Mission Control dark theme styling with interactive review filtering.\n *\n * @see /Users/aaronbaker/knearme-workspace/review-agent-dashboard/src/app/contractors/[id]/page.tsx\n */\nexport function ContractorTabs({ reviews, analysis, article }: ContractorTabsProps) {\n  const [reviewFilter, setReviewFilter] = useState<FilterType>('all');\n\n  const avgRating = reviews.length > 0\n    ? reviews.reduce((sum, r) => sum + r.rating, 0) / reviews.length\n    : 0;\n\n  // Memoized filtering logic\n  const filteredReviews = useMemo(() => {\n    switch (reviewFilter) {\n      case 'positive':\n        return reviews.filter(r => r.rating >= 4);\n      case 'negative':\n        return reviews.filter(r => r.rating <= 2);\n      case 'star-5': return reviews.filter(r => r.rating === 5);\n      case 'star-4': return reviews.filter(r => r.rating === 4);\n      case 'star-3': return reviews.filter(r => r.rating === 3);\n      case 'star-2': return reviews.filter(r => r.rating === 2);\n      case 'star-1': return reviews.filter(r => r.rating === 1);\n      default:\n        return reviews;\n    }\n  }, [reviews, reviewFilter]);\n\n  const ratingCounts = useMemo(() => {\n    const counts = { 5: 0, 4: 0, 3: 0, 2: 0, 1: 0 };\n    reviews.forEach(r => {\n      const rating = Math.round(r.rating) as keyof typeof counts;\n      if (counts[rating] !== undefined) counts[rating]++;\n    });\n    return counts;\n  }, [reviews]);\n\n  return (\n    <Tabs defaultValue=\"reviews\" className=\"space-y-6\">\n      {/* Tab Buttons Container */}\n      <div className=\"flex items-center justify-center md:justify-start\">\n        <TabsList className=\"bg-zinc-800/50 border border-zinc-700/50 p-1 h-auto rounded-lg\">\n          <TabsTrigger\n            value=\"reviews\"\n            className=\"gap-2 px-5 py-2.5 rounded-lg text-sm font-mono data-[state=active]:bg-amber-500/10 data-[state=active]:text-amber-400 data-[state=active]:border-amber-500/20 text-zinc-400\"\n          >\n            <MessageSquare className=\"w-4 h-4\" />\n            Reviews\n            <span className=\"ml-1.5 px-1.5 py-0.5 text-[10px] rounded bg-zinc-700/50 tabular-nums\">\n              {reviews.length}\n            </span>\n          </TabsTrigger>\n          <TabsTrigger\n            value=\"analysis\"\n            disabled={!analysis}\n            className=\"gap-2 px-5 py-2.5 rounded-lg text-sm font-mono data-[state=active]:bg-violet-500/10 data-[state=active]:text-violet-400 text-zinc-400 disabled:opacity-40\"\n          >\n            <Lightbulb className=\"w-4 h-4\" />\n            Analysis\n          </TabsTrigger>\n          <TabsTrigger\n            value=\"article\"\n            disabled={!article}\n            className=\"gap-2 px-5 py-2.5 rounded-lg text-sm font-mono data-[state=active]:bg-emerald-500/10 data-[state=active]:text-emerald-400 text-zinc-400 disabled:opacity-40\"\n          >\n            <FileText className=\"w-4 h-4\" />\n            Article\n          </TabsTrigger>\n        </TabsList>\n      </div>\n\n      {/* Tab Content Container */}\n      <div>\n        <TabsContent value=\"reviews\" className=\"space-y-6 mt-0\">\n          {/* Reviews Summary Header */}\n          <div className=\"bg-zinc-900/30 border border-zinc-800/50 rounded-lg p-6\">\n            <div className=\"flex flex-col md:flex-row items-center gap-8\">\n              {/* Aggregate Rating */}\n              <div className=\"flex flex-col items-center min-w-[140px]\">\n                <div className=\"text-5xl font-bold font-mono text-zinc-100 tabular-nums mb-2\">\n                  {avgRating.toFixed(1)}\n                </div>\n                <div className=\"flex items-center gap-1 mb-2\">\n                  {[1, 2, 3, 4, 5].map((s) => (\n                    <Star\n                      key={s}\n                      className={cn(\n                        \"w-4 h-4\",\n                        s <= Math.round(avgRating)\n                          ? \"text-amber-400 fill-amber-400\"\n                          : \"text-zinc-700\"\n                      )}\n                    />\n                  ))}\n                </div>\n                <p className=\"text-[10px] font-mono uppercase tracking-widest text-zinc-500\">\n                  Aggregate Rating\n                </p>\n              </div>\n\n              <div className=\"h-16 w-px bg-zinc-800/50 hidden md:block\" />\n\n              {/* Quick Stats */}\n              <div className=\"flex-1 grid grid-cols-3 gap-4 w-full\">\n                <button\n                  onClick={() => setReviewFilter('all')}\n                  className={cn(\n                    \"flex flex-col items-center p-4 rounded-lg transition-all border\",\n                    reviewFilter === 'all'\n                      ? \"bg-cyan-500/10 border-cyan-500/20 text-cyan-400\"\n                      : \"bg-zinc-800/30 border-zinc-700/50 text-zinc-400 hover:border-cyan-500/20\"\n                  )}\n                >\n                  <div className=\"text-2xl font-bold font-mono tabular-nums\">{reviews.length}</div>\n                  <p className=\"text-[10px] font-mono uppercase tracking-widest mt-1 opacity-70\">\n                    Total\n                  </p>\n                </button>\n                <button\n                  onClick={() => setReviewFilter('positive')}\n                  className={cn(\n                    \"flex flex-col items-center p-4 rounded-lg transition-all border\",\n                    reviewFilter === 'positive'\n                      ? \"bg-emerald-500/10 border-emerald-500/20 text-emerald-400\"\n                      : \"bg-zinc-800/30 border-zinc-700/50 text-zinc-400 hover:border-emerald-500/20\"\n                  )}\n                >\n                  <div className=\"text-2xl font-bold font-mono tabular-nums\">\n                    {reviews.filter(r => r.rating >= 4).length}\n                  </div>\n                  <p className=\"text-[10px] font-mono uppercase tracking-widest mt-1 opacity-70\">\n                    Positive\n                  </p>\n                </button>\n                <button\n                  onClick={() => setReviewFilter('negative')}\n                  className={cn(\n                    \"flex flex-col items-center p-4 rounded-lg transition-all border\",\n                    reviewFilter === 'negative'\n                      ? \"bg-red-500/10 border-red-500/20 text-red-400\"\n                      : \"bg-zinc-800/30 border-zinc-700/50 text-zinc-400 hover:border-red-500/20\"\n                  )}\n                >\n                  <div className=\"text-2xl font-bold font-mono tabular-nums\">\n                    {reviews.filter(r => r.rating <= 2).length}\n                  </div>\n                  <p className=\"text-[10px] font-mono uppercase tracking-widest mt-1 opacity-70\">\n                    Negative\n                  </p>\n                </button>\n              </div>\n            </div>\n          </div>\n\n          {/* Filter Bar */}\n          <div className=\"flex flex-wrap items-center gap-3 p-3 bg-zinc-900/30 border border-zinc-800/50 rounded-lg\">\n            <div className=\"flex items-center gap-2 px-3 border-r border-zinc-700/50\">\n              <Filter className=\"w-3.5 h-3.5 text-zinc-600\" />\n              <span className=\"text-[10px] font-mono uppercase tracking-widest text-zinc-500\">\n                Star Filter\n              </span>\n            </div>\n            <div className=\"flex flex-wrap gap-2\">\n              {[5, 4, 3, 2, 1].map((star) => {\n                const filterKey = `star-${star}` as FilterType;\n                const isActive = reviewFilter === filterKey;\n                const count = ratingCounts[star as keyof typeof ratingCounts];\n\n                return (\n                  <Button\n                    key={star}\n                    variant=\"outline\"\n                    size=\"sm\"\n                    onClick={() => setReviewFilter(isActive ? 'all' : filterKey)}\n                    disabled={count === 0}\n                    className={cn(\n                      \"h-8 rounded-lg text-xs font-mono gap-1.5 border\",\n                      isActive\n                        ? \"bg-amber-500/10 text-amber-400 border-amber-500/20\"\n                        : \"bg-zinc-800/50 text-zinc-500 border-zinc-700/50 hover:text-zinc-300 hover:border-zinc-600/50\",\n                      count === 0 && \"opacity-40 cursor-not-allowed\"\n                    )}\n                  >\n                    <Star className={cn(\n                      \"w-3 h-3\",\n                      isActive ? \"fill-amber-400 text-amber-400\" : \"fill-amber-400 text-amber-400\"\n                    )} />\n                    <span>{star}</span>\n                    <span className=\"text-zinc-600\">({count})</span>\n                  </Button>\n                );\n              })}\n            </div>\n            {reviewFilter !== 'all' && (\n              <Button\n                variant=\"ghost\"\n                size=\"sm\"\n                onClick={() => setReviewFilter('all')}\n                className=\"ml-auto h-8 text-xs font-mono text-cyan-400 hover:text-cyan-300 hover:bg-cyan-500/10 gap-1.5\"\n              >\n                <X className=\"w-3.5 h-3.5\" />\n                Clear\n              </Button>\n            )}\n          </div>\n\n          {/* Reviews List Header */}\n          <div className=\"flex items-center gap-4 px-1\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"h-2 w-2 rounded-full bg-amber-400 animate-pulse\" />\n              <span className=\"text-xs font-mono uppercase tracking-widest text-zinc-500\">\n                {filteredReviews.length} {reviewFilter !== 'all' ? reviewFilter.replace('star-', '') + ' Star ' : ''} Records\n              </span>\n            </div>\n            <div className=\"h-px flex-1 bg-zinc-800/50\" />\n          </div>\n\n          {/* Reviews Grid */}\n          <div className=\"grid grid-cols-1 gap-4\">\n            {filteredReviews.map((review) => (\n              <ReviewCard key={review.id} review={review} />\n            ))}\n          </div>\n\n          {filteredReviews.length === 0 && (\n            <div className=\"rounded-lg border border-dashed border-zinc-700/50 bg-zinc-900/20 p-12 text-center\">\n              <div className=\"inline-flex items-center justify-center h-16 w-16 rounded-full bg-zinc-800/50 border border-zinc-700/50 mb-4\">\n                <MessageSquare className=\"w-8 h-8 text-zinc-600\" />\n              </div>\n              <h4 className=\"text-lg font-semibold text-zinc-400 mb-1\">No Reviews Found</h4>\n              <p className=\"text-sm text-zinc-500 max-w-xs mx-auto\">\n                No reviews match the selected filter criteria.\n              </p>\n              <Button\n                variant=\"link\"\n                onClick={() => setReviewFilter('all')}\n                className=\"mt-4 text-cyan-400 hover:text-cyan-300\"\n              >\n                Reset filters\n              </Button>\n            </div>\n          )}\n        </TabsContent>\n\n        <TabsContent value=\"analysis\" className=\"mt-0\">\n          {analysis ? (\n            <AnalysisDisplay\n              analysis={analysis.analysis_json}\n              modelUsed={analysis.model_used}\n              tokensUsed={analysis.tokens_used}\n              costEstimate={analysis.cost_estimate}\n              analyzedAt={analysis.analyzed_at}\n            />\n          ) : (\n            <div className=\"rounded-lg border border-dashed border-zinc-700/50 bg-zinc-900/20 p-12 text-center\">\n              <div className=\"inline-flex items-center justify-center h-16 w-16 rounded-full bg-zinc-800/50 border border-zinc-700/50 mb-4\">\n                <LayoutDashboard className=\"w-8 h-8 text-zinc-600\" />\n              </div>\n              <h4 className=\"text-lg font-semibold text-zinc-400 mb-1\">Analysis Pending</h4>\n              <p className=\"text-sm text-zinc-500 max-w-xs mx-auto\">\n                The AI review agent has not processed the data for this contractor.\n              </p>\n            </div>\n          )}\n        </TabsContent>\n\n        <TabsContent value=\"article\" className=\"mt-0\">\n          {article ? (\n            <ArticlePreview article={article} />\n          ) : (\n            <div className=\"rounded-lg border border-dashed border-zinc-700/50 bg-zinc-900/20 p-12 text-center\">\n              <div className=\"inline-flex items-center justify-center h-16 w-16 rounded-full bg-zinc-800/50 border border-zinc-700/50 mb-4\">\n                <FileText className=\"w-8 h-8 text-zinc-600\" />\n              </div>\n              <h4 className=\"text-lg font-semibold text-zinc-400 mb-1\">Article Not Generated</h4>\n              <p className=\"text-sm text-zinc-500 max-w-xs mx-auto\">\n                Complete the analysis phase to unlock AI article generation.\n              </p>\n            </div>\n          )}\n        </TabsContent>\n      </div>\n    </Tabs>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}