/**
 * Custom Payload Admin Styles
 *
 * Professional styling enhancements for the Payload CMS admin panel.
 * Uses Payload's CSS variables to maintain consistency with the
 * default theme while adding polish.
 *
 * Brand colors aligned with KnearMe design system:
 * - Primary teal: oklch(0.72 0.14 185) for buttons, links, active states
 * - Dark theme with deep backgrounds matching frontend
 * - Success/warning/error colors consistent with globals.css
 *
 * @see https://payloadcms.com/docs/admin/customizing-css
 * @see src/app/globals.css for design system reference
 */

/* ==========================================================================
   Brand Color Overrides
   ========================================================================== */

/**
 * Primary color override: Teal brand color
 *
 * Payload uses --color-base-* for primary accent colors (default blue).
 * We override with our teal brand color for visual consistency.
 *
 * OKLCH values converted to HSL for broader compatibility:
 * oklch(0.72 0.14 185) â‰ˆ hsl(180, 70%, 40%)
 */
:root {
  /* Primary brand teal (replacing Payload's default blue) */
  --color-base-100: hsl(180, 60%, 92%);
  --color-base-150: hsl(180, 58%, 85%);
  --color-base-200: hsl(180, 55%, 78%);
  --color-base-250: hsl(180, 52%, 70%);
  --color-base-300: hsl(180, 50%, 62%);
  --color-base-350: hsl(180, 48%, 55%);
  --color-base-400: hsl(180, 55%, 48%);
  --color-base-450: hsl(180, 60%, 44%);
  --color-base-500: hsl(180, 70%, 40%);
  --color-base-550: hsl(180, 72%, 36%);
  --color-base-600: hsl(180, 75%, 32%);
  --color-base-650: hsl(180, 78%, 28%);
  --color-base-700: hsl(180, 80%, 24%);
  --color-base-750: hsl(180, 82%, 20%);
  --color-base-800: hsl(180, 85%, 16%);
  --color-base-850: hsl(180, 88%, 12%);
  --color-base-900: hsl(180, 90%, 8%);
  --color-base-950: hsl(180, 92%, 4%);
  --color-base-1000: hsl(180, 95%, 2%);

  /* RGB values for box-shadow/alpha usage */
  --color-base-500-rgb: 31, 173, 173;

  /* Success colors (sage green from design system) */
  --theme-success-100: hsl(145, 30%, 92%);
  --theme-success-200: hsl(145, 35%, 80%);
  --theme-success-300: hsl(145, 40%, 65%);
  --theme-success-400: hsl(145, 45%, 50%);
  --theme-success-500: hsl(145, 50%, 40%);

  /* Warning colors (amber from design system) */
  --theme-warning-100: hsl(45, 90%, 92%);
  --theme-warning-200: hsl(45, 85%, 80%);
  --theme-warning-300: hsl(45, 80%, 65%);
  --theme-warning-400: hsl(45, 75%, 50%);
  --theme-warning-500: hsl(40, 80%, 45%);

  /* Error colors (matching --destructive from globals.css) */
  --theme-error-100: hsl(25, 90%, 92%);
  --theme-error-200: hsl(25, 85%, 80%);
  --theme-error-300: hsl(25, 80%, 65%);
  --theme-error-400: hsl(25, 75%, 55%);
  --theme-error-500: hsl(25, 80%, 50%);
}

/**
 * Dark theme elevation overrides
 *
 * Aligns Payload's dark theme with frontend dark background.
 * Uses similar color values to globals.css for consistency.
 */
[data-theme='dark'] {
  /* Deep background colors matching frontend (oklch(0.12-0.28 0.01 260)) */
  --theme-elevation-0: hsl(260, 8%, 8%);
  --theme-elevation-50: hsl(260, 7%, 10%);
  --theme-elevation-100: hsl(260, 6%, 12%);
  --theme-elevation-150: hsl(260, 5%, 15%);
  --theme-elevation-200: hsl(260, 4%, 18%);
  --theme-elevation-250: hsl(260, 3%, 21%);
  --theme-elevation-300: hsl(260, 3%, 24%);
  --theme-elevation-350: hsl(260, 2%, 28%);
  --theme-elevation-400: hsl(260, 2%, 32%);
  --theme-elevation-450: hsl(260, 2%, 38%);
  --theme-elevation-500: hsl(260, 2%, 45%);
  --theme-elevation-550: hsl(260, 2%, 52%);
  --theme-elevation-600: hsl(260, 2%, 60%);
  --theme-elevation-650: hsl(260, 1%, 68%);
  --theme-elevation-700: hsl(260, 1%, 75%);
  --theme-elevation-750: hsl(260, 1%, 82%);
  --theme-elevation-800: hsl(260, 1%, 88%);
  --theme-elevation-850: hsl(260, 1%, 92%);
  --theme-elevation-900: hsl(260, 1%, 95%);
  --theme-elevation-950: hsl(260, 1%, 97%);
  --theme-elevation-1000: hsl(260, 1%, 99%);

  /* Teal accent adjustments for dark mode (brighter for visibility) */
  --color-base-500: hsl(180, 65%, 45%);
  --color-base-400: hsl(180, 60%, 50%);
  --color-base-500-rgb: 41, 186, 186;
}

/* ==========================================================================
   Dashboard Enhancements
   ========================================================================== */

/**
 * Dashboard container - improved spacing
 */
.dashboard {
  padding-top: 1.5rem;
}

/**
 * Card styling improvements
 * Applies to collection cards and custom cards
 */
.card {
  transition: all 0.2s ease;
  border: 1px solid var(--theme-elevation-150);

  &:hover {
    border-color: var(--theme-elevation-200);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  }
}

/* ==========================================================================
   Collection List Improvements
   ========================================================================== */

/**
 * Table row hover states
 */
.table .row:hover {
  background-color: var(--theme-elevation-50);
}

/**
 * Improved cell padding
 */
.cell-content {
  padding: 0.875rem 1rem;
}

/* ==========================================================================
   Form Field Improvements
   ========================================================================== */

/**
 * Field labels - improved visibility
 */
.field-label {
  font-weight: 600;
  letter-spacing: 0.01em;
}

/**
 * Input focus states
 */
input:focus,
textarea:focus,
select:focus {
  border-color: var(--color-base-500);
  box-shadow: 0 0 0 3px rgba(var(--color-base-500-rgb), 0.1);
}

/* ==========================================================================
   Navigation Improvements
   ========================================================================== */

/**
 * Navigation sidebar styling enhancements
 *
 * Implements brand-consistent navigation with:
 * - Teal left border accent on active items
 * - Subtle teal background tint on active state
 * - Smooth transitions on hover
 * - Improved nav group label typography
 *
 * @see PAYLOAD-004 in PRD for acceptance criteria
 */

/**
 * Nav group labels - improved typography
 * Makes collection group headers stand out with uppercase text
 */
.nav-group__toggle {
  text-transform: uppercase;
  font-size: 0.6875rem;
  font-weight: 700;
  letter-spacing: 0.08em;
  color: var(--theme-elevation-500);
  padding: 0.75rem 1rem 0.5rem;
  transition: color 0.15s ease;

  &:hover {
    color: var(--theme-elevation-700);
  }
}

/**
 * Nav group content container
 * Adds spacing between groups for visual hierarchy
 */
.nav-group__content {
  margin-bottom: 0.5rem;
}

/**
 * Nav item base styles
 * All navigation links get consistent padding and transitions
 */
.nav-group__content a {
  position: relative;
  display: block;
  padding: 0.625rem 1rem;
  margin: 0.125rem 0.5rem;
  border-radius: 0.375rem;
  border-left: 3px solid transparent;
  transition:
    background-color 0.2s ease,
    border-color 0.2s ease,
    color 0.2s ease;

  /* Text styling */
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--theme-elevation-650);

  &:hover {
    background-color: var(--theme-elevation-100);
    color: var(--theme-elevation-800);
  }
}

/**
 * Active nav item - teal accent styling
 * Uses brand teal for left border and subtle background tint
 */
.nav-group__content a.active {
  /* Teal left border accent */
  border-left-color: var(--color-base-500);

  /* Subtle teal background tint using alpha */
  background-color: rgba(var(--color-base-500-rgb), 0.08);

  /* Darker text for emphasis */
  color: var(--theme-elevation-900);
  font-weight: 600;

  /* Subtle glow effect on active item */
  box-shadow: inset 0 0 0 1px rgba(var(--color-base-500-rgb), 0.1);

  &:hover {
    /* Slightly stronger tint on hover */
    background-color: rgba(var(--color-base-500-rgb), 0.12);
  }
}

/* ==========================================================================
   Button Improvements
   ========================================================================== */

/**
 * Primary buttons - improved appearance
 */
.btn--style-primary {
  font-weight: 600;
  letter-spacing: 0.01em;
  transition: all 0.2s ease;

  &:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
  }

  &:active {
    transform: translateY(0);
  }
}

/**
 * Secondary buttons
 */
.btn--style-secondary {
  border-width: 1px;
  transition: all 0.2s ease;

  &:hover {
    background-color: var(--theme-elevation-100);
  }
}

/* ==========================================================================
   Typography Improvements
   ========================================================================== */

/**
 * Headings
 */
h1, h2, h3, h4 {
  letter-spacing: -0.01em;
}

/**
 * Document title in edit view
 */
.doc-header__title h1 {
  font-size: 1.75rem;
  font-weight: 700;
}

/* ==========================================================================
   Responsive Adjustments
   ========================================================================== */

@media (max-width: 768px) {
  /**
   * Mobile dashboard padding
   */
  .dashboard {
    padding: 1rem;
  }

  /**
   * Stack stat cards on mobile
   */
  .stats-grid {
    grid-template-columns: 1fr;
  }
}

/* ==========================================================================
   Skeleton Loaders (PAYLOAD-006)
   ========================================================================== */

/**
 * Skeleton loader animation
 *
 * Creates a shimmer effect for loading placeholders.
 * Uses gradient animation for a polished loading experience.
 *
 * @see PAYLOAD-006 in PRD for acceptance criteria
 */
@keyframes skeleton-pulse {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/**
 * Base skeleton class
 * Apply to any element that should show loading state
 */
.skeleton {
  background: linear-gradient(
    90deg,
    var(--theme-elevation-150) 0%,
    var(--theme-elevation-200) 25%,
    var(--theme-elevation-150) 50%,
    var(--theme-elevation-200) 75%,
    var(--theme-elevation-150) 100%
  );
  background-size: 400% 100%;
  animation: skeleton-pulse 1.8s ease-in-out infinite;
  border-radius: var(--style-radius-s);
}

/**
 * Skeleton text variants
 * Pre-sized skeletons for common text elements
 */
.skeleton-text {
  height: 1em;
  width: 100%;
}

.skeleton-text--sm {
  height: 0.75em;
  width: 60%;
}

.skeleton-text--lg {
  height: 1.5em;
  width: 80%;
}

.skeleton-text--xl {
  height: 2em;
  width: 40%;
}

/**
 * Skeleton stat card
 * Matches StatCard dimensions for dashboard loading
 */
.skeleton-stat {
  height: 6.5rem;
  width: 100%;
}

/**
 * Skeleton avatar/icon
 * Circular skeleton for profile images or icons
 */
.skeleton-avatar {
  border-radius: 50%;
  width: 2.5rem;
  height: 2.5rem;
}

.skeleton-avatar--sm {
  width: 2rem;
  height: 2rem;
}

.skeleton-avatar--lg {
  width: 3rem;
  height: 3rem;
}

/**
 * Skeleton thumbnail
 * Square aspect ratio for media thumbnails
 */
.skeleton-thumbnail {
  aspect-ratio: 1;
  width: 100%;
}

/* ==========================================================================
   Empty States (PAYLOAD-006)
   ========================================================================== */

/**
 * Empty state container
 *
 * Centered layout for displaying when no content exists.
 * Includes icon placeholder, title, description, and optional CTA.
 *
 * @see PAYLOAD-006 in PRD for acceptance criteria
 */
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 3rem 2rem;
  min-height: 12rem;
}

/**
 * Empty state icon container
 * Large, muted icon to visually indicate empty content
 */
.empty-state__icon {
  width: 4rem;
  height: 4rem;
  margin-bottom: 1rem;
  color: var(--theme-elevation-400);
  opacity: 0.6;
}

/**
 * Empty state title
 */
.empty-state__title {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--theme-elevation-800);
  margin: 0 0 0.5rem;
}

/**
 * Empty state description
 */
.empty-state__description {
  font-size: 0.875rem;
  color: var(--theme-elevation-500);
  margin: 0 0 1.5rem;
  max-width: 24rem;
  line-height: 1.5;
}

/**
 * Empty state CTA button
 * Styled consistently with Payload's secondary button
 */
.empty-state__cta {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.625rem 1rem;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--theme-elevation-800);
  background-color: var(--theme-elevation-100);
  border: 1px solid var(--theme-elevation-200);
  border-radius: var(--style-radius-s);
  text-decoration: none;
  transition: all 0.2s ease;
  cursor: pointer;

  &:hover {
    background-color: var(--theme-elevation-150);
    border-color: var(--theme-elevation-250);
  }
}

/* ==========================================================================
   Dark Mode Adjustments
   ========================================================================== */

[data-theme='dark'] {
  /**
   * Improved card shadows for dark mode
   */
  .card:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.25);
  }

  /**
   * Subtle glow on focus in dark mode
   */
  input:focus,
  textarea:focus,
  select:focus {
    box-shadow: 0 0 0 3px rgba(var(--color-base-500-rgb), 0.2);
  }

  /**
   * Dark mode navigation adjustments
   * Increased contrast and visibility for dark backgrounds
   */
  .nav-group__toggle {
    color: var(--theme-elevation-550);

    &:hover {
      color: var(--theme-elevation-700);
    }
  }

  .nav-group__content a {
    color: var(--theme-elevation-600);

    &:hover {
      background-color: var(--theme-elevation-150);
      color: var(--theme-elevation-750);
    }
  }

  .nav-group__content a.active {
    /* Brighter teal tint for dark mode visibility */
    background-color: rgba(var(--color-base-500-rgb), 0.12);
    color: var(--theme-elevation-850);

    /* Stronger glow effect in dark mode */
    box-shadow: inset 0 0 0 1px rgba(var(--color-base-500-rgb), 0.15);

    &:hover {
      background-color: rgba(var(--color-base-500-rgb), 0.16);
    }
  }

  /**
   * Dark mode skeleton adjustments
   * Uses darker base colors for better visibility
   */
  .skeleton {
    background: linear-gradient(
      90deg,
      var(--theme-elevation-200) 0%,
      var(--theme-elevation-250) 25%,
      var(--theme-elevation-200) 50%,
      var(--theme-elevation-250) 75%,
      var(--theme-elevation-200) 100%
    );
  }

  /**
   * Dark mode empty state adjustments
   */
  .empty-state__title {
    color: var(--theme-elevation-850);
  }

  .empty-state__description {
    color: var(--theme-elevation-550);
  }

  .empty-state__icon {
    color: var(--theme-elevation-450);
  }

  .empty-state__cta {
    color: var(--theme-elevation-850);
    background-color: var(--theme-elevation-150);
    border-color: var(--theme-elevation-250);

    &:hover {
      background-color: var(--theme-elevation-200);
      border-color: var(--theme-elevation-300);
    }
  }
}
